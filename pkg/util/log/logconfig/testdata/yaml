# Check how the empty config pretty-prints itself.
yaml
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B

# Verify that it's possible to only pass a subset
# of the fields in the YAML input.
yaml
capture-stray-errors:
  enable: true
sinks:
  file-groups:
    auth:
      dir: /hello/world
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B
sinks:
  file-groups:
    auth:
      dir: /hello/world
capture-stray-errors:
  enable: true

# Verify that a channel can be selected.
yaml
sinks:
   stderr:
     channels: DEV
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B
sinks:
  stderr:
    nocolor: false
    channels: DEV


# Verify that more than one channel can be selected.
yaml
sinks:
  stderr:
   channels: DEV,OPS
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B
sinks:
  stderr:
    nocolor: false
    channels: DEV,OPS


# Verify that all channels can be selected.
yaml
sinks:
  stderr:
     channels: all
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B
sinks:
  stderr:
    nocolor: false
    channels: DEV,OPS,HEALTH,STORAGE,SESSIONS,USER_ADMIN,PRIVILEGES,SENSITIVE_ACCESS,SQL_EXEC,SQL_PERF,SQL_INTERNAL_PERF

# Verify that the inverse of a channel list can be selected.
yaml
sinks: { stderr: { channels: 'all except DEV,OPS' } }
----
file-defaults:
  filter: UNKNOWN
  redact: false
  redactable: false
  max-file-size: 0B
  max-group-size: 0B
sinks:
  stderr:
    nocolor: false
    channels: HEALTH,STORAGE,SESSIONS,USER_ADMIN,PRIVILEGES,SENSITIVE_ACCESS,SQL_EXEC,SQL_PERF,SQL_INTERNAL_PERF


# Try populating all the fields.
yaml
file-defaults:
     dir: /default/dir
     filter: ERROR
     redact: true
     redactable: false
     max-file-size: 10MB
     max-group-size: 100MB

sinks:
  file-groups:
    auth:
       dir: /hello/world
       max-group-size: 1GB
    debug:
       dir: universe
       max-file-size: 1MB
    perf:
       filter: INFO
       redact: true

  stderr:
    filter: WARNING
    redact: false
    redactable: true

  fluent-servers:
   default:
     address: 127.0.0.1:5170
   other:
     net: udp
     address: 127.0.0.1:5111
----
file-defaults:
  dir: /default/dir
  filter: ERROR
  redact: true
  redactable: false
  max-file-size: 9.5MiB
  max-group-size: 95MiB
sinks:
  file-groups:
    auth:
      dir: /hello/world
      max-group-size: 954MiB
    debug:
      dir: universe
      max-file-size: 977KiB
    perf:
      filter: INFO
      redact: true
  fluent-servers:
    default:
      address: 127.0.0.1:5170
    other:
      net: udp
      address: 127.0.0.1:5111
  stderr:
    nocolor: false
    filter: WARNING
    redactable: true

# Check that duplicate channels are refused.
yaml
sinks:
   stderr:
      channels: DEV,DEV
----
ERROR: duplicate channel name: "DEV"
