# LogicTest: default

query IITTITTT colnames
SELECT * FROM crdb_internal.partitions
----
table_id  index_id  parent_name  name  columns  list_values  range_from  range_to

statement ok
CREATE TABLE t1 (
  a INT,
  b INT,
  c INT,
  PRIMARY KEY (a, b, c),
  INDEX (a, b) PARTITION BY LIST (a, b) (
    PARTITION pidx VALUES IN ((0, 0))
  )
) PARTITION BY LIST (a) (
    PARTITION p1 VALUES IN (1, 2) PARTITION BY LIST (b) (
        PARTITION p1_1 VALUES IN (3) PARTITION BY LIST (c) (
            PARTITION p1_1_1 VALUES IN (8)
        ),
        PARTITION p1_2 VALUES IN (DEFAULT)
    ),
    PARTITION p2 VALUES IN (6) PARTITION BY RANGE (b) (
        PARTITION p2_1 VALUES FROM (MINVALUE) TO (7),
        PARTITION p2_2 VALUES FROM (7) TO (8),
        PARTITION p2_3 VALUES FROM (8) TO (MAXVALUE)
    )
)

statement ok
CREATE table t2 (a STRING PRIMARY KEY) PARTITION BY LIST (a) (
  PARTITION p1 VALUES IN ('foo')
)

query IITTITTT
SELECT * FROM crdb_internal.partitions ORDER BY table_id, index_id, name
----
51  1  NULL  p1      1  {"(1)","(2)"}  NULL        NULL
51  1  p1    p1_1    1  {"(3)"}        NULL        NULL
51  1  p1_1  p1_1_1  1  {"(8)"}        NULL        NULL
51  1  p1    p1_2    1  {"(DEFAULT)"}  NULL        NULL
51  1  NULL  p2      1  {"(6)"}        NULL        NULL
51  1  p2    p2_1    1  NULL           (MINVALUE)  (7)
51  1  p2    p2_2    1  NULL           (7)         (8)
51  1  p2    p2_3    1  NULL           (8)         (MAXVALUE)
51  2  NULL  pidx    2  {"(0, 0)"}     NULL        NULL
52  1  NULL  p1      1  {"('foo')"}    NULL        NULL
