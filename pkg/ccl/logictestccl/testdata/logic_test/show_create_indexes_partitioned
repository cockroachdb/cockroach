statement ok
CREATE TABLE residents (
	id INT,
	name STRING,
	country STRING,
	PRIMARY KEY (country, id)
)

query T
SHOW CREATE INDEXES FROM residents
----
CREATE UNIQUE INDEX residents_pkey ON public.residents (country ASC, id ASC)

query T
SHOW CREATE SECONDARY INDEXES FROM residents
----

statement ok
ALTER TABLE residents PARTITION BY LIST (country) (
	PARTITION north_america VALUES IN ('CA', 'US', 'MX'),
	PARTITION DEFAULT VALUES IN (default)
)

query T
SHOW CREATE INDEXES FROM residents
----
CREATE UNIQUE INDEX residents_pkey ON public.residents (country ASC, id ASC) PARTITION BY LIST (country) (
   PARTITION north_america VALUES IN (('CA'), ('US'), ('MX')),
   PARTITION "default" VALUES IN ((DEFAULT))
)

statement ok
CREATE UNIQUE INDEX ON residents (id) PARTITION BY RANGE (id) (
	PARTITION negative VALUES FROM (MINVALUE) TO (0),
	PARTITION nonnegative VALUES FROM (0) TO (MAXVALUE)
)

query T
SHOW CREATE INDEXES FROM residents
----
CREATE UNIQUE INDEX residents_pkey ON public.residents (country ASC, id ASC) PARTITION BY LIST (country) (
   PARTITION north_america VALUES IN (('CA'), ('US'), ('MX')),
   PARTITION "default" VALUES IN ((DEFAULT))
)
CREATE UNIQUE INDEX residents_id_key ON public.residents (id ASC) PARTITION BY RANGE (id) (
   PARTITION negative VALUES FROM (MINVALUE) TO (0),
   PARTITION nonnegative VALUES FROM (0) TO (MAXVALUE)
)

query T
SHOW CREATE SECONDARY INDEXES FROM residents
----
CREATE UNIQUE INDEX residents_id_key ON public.residents (id ASC) PARTITION BY RANGE (id) (
   PARTITION negative VALUES FROM (MINVALUE) TO (0),
   PARTITION nonnegative VALUES FROM (0) TO (MAXVALUE)
)
