# LogicTest: !3node-tenant

query error tenant "13" does not exist
SELECT crdb_internal.update_tenant_resource_limits(13, gen_random_uuid(), 1000, 100, 0, now(), 0)

query I
SELECT crdb_internal.create_tenant(5)
----
5

query F
SELECT ru_refill_rate FROM system.tenant_usage WHERE tenant_id = 5
----

statement ok
SELECT crdb_internal.update_tenant_resource_limits(5, gen_random_uuid(), 1000, 100, 0, now(), 0)

query F
SELECT ru_refill_rate FROM system.tenant_usage WHERE tenant_id = 5
----
100

# Note this just marks the tenant as dropped but does not call GC.
query I
SELECT crdb_internal.destroy_tenant(5)
----
5

query error tenant "5" is not active
SELECT crdb_internal.update_tenant_resource_limits(5, gen_random_uuid(), 1000, 100, 0, now(), 0)
