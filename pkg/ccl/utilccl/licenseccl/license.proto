// Copyright 2017 The Cockroach Authors.
//
// Licensed as a CockroachDB Enterprise file under the Cockroach Community
// License (the "License"); you may not use this file except in compliance with
// the License. You may obtain a copy of the License at
//
//     https://github.com/cockroachdb/cockroach/blob/master/licenses/CCL.txt

syntax = "proto3";
package cockroach.ccl.utilccl.licenseccl;
option go_package = "github.com/cockroachdb/cockroach/pkg/ccl/utilccl/licenseccl";

import "gogoproto/gogo.proto";

message License {
    repeated bytes cluster_id = 1 [(gogoproto.nullable) = false,
        (gogoproto.customname) = "ClusterID",
        (gogoproto.customtype) = "github.com/cockroachdb/cockroach/pkg/util/uuid.UUID"];
    int64 valid_until_unix_sec = 2;

    enum Type {
      NonCommercial = 0;
      Enterprise = 1;
      Evaluation = 2;
      Free = 3;
      Trial = 4;
    }

    Type type = 3;

    string organization_name = 4;

    // Two UUIDs uniquely identify this license and the associated organization.
    // They are stored as bytes to align with the server's typical usage. We
    // avoided using the custom UUID type normally used in protobufs to minimize
    // dependencies, as the generated code is also used in other repositories.
    bytes license_id = 6;
    bytes organization_id = 7;
}
