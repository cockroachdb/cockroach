{
  "title": "CockroachDB Dashboard",
  "description": "CockroachDB metrics dashboard combining all metric categories",
  "layout_type": "ordered",
  "widgets": [
    {
      "definition": {
        "type": "group",
        "title": "Description",
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "image",
              "url": "/static/images/logos/cockroachdb_large.svg",
              "url_dark_theme": "/static/images/logos/cockroachdb_reversed_large.svg",
              "sizing": "cover",
              "has_background": true,
              "has_border": true,
              "vertical_align": "center",
              "horizontal_align": "center"
            }
          },
          {
            "definition": {
              "type": "note",
              "content": "This dashboard provides a high-level view of your CockroachDB cluster, including:\n- A high-level view of SQL performance \u0026 latency.\n- Information about resource consumption to help aid in capacity planning.",
              "background_color": "transparent",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "tick_pos": "100%",
              "tick_edge": "left"
            }
          },
          {
            "definition": {
              "type": "note",
              "content": "#### Optimize your CockroachDB integration configuration for monitoring\n1. Configure `cluster` and `region` tags in your `cockroachdb.d/conf.yaml` [file](https://github.com/DataDog/integrations-core/blob/7f091cbd40dfa13ec713d00d53caa2273a6cc7f6/cockroachdb/datadog_checks/cockroachdb/data/conf.yaml.example#L583-L591):\n\n    ```\n    instances:\n      - openmetrics_endpoint: http://localhost:8080/_status/vars\n        tags: [\"cluster:prod\", \"region:us-east-1\"]\n      - openmetrics_endpoint: http://localhost:8082/_status/vars\n        tags: [\"cluster:dev\", \"region:us-east-2\"]\n    ```",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "tick_pos": "100%",
              "tick_edge": "left",
              "has_padding": true
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Overview",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Queries",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sql_crud_query_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Contention",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Contention",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.contended.queries{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicas per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Available",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Used",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.capacity.used{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Hardware",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Percent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Usage",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.combined.percent.normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Host CPU Percent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Host CPU Usage",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.host.combined.percent_normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Memory Usage",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Memory",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.rss{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Read Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Read",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.read.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Write Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Write",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.write.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Read IOPS",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Read IOPS",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.read{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Write IOPS",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write IOPS",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.write{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Ops In Progress",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ops In Progress",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.iopsinprogress{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Available Disk Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Available Capacity",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Runtime",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Live Node Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Live Nodes",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.liveness.livenodes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Memory Usage",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Total memory (RSS)",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Allocated",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Total",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Limit",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "CGo Allocated",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "CGo Total",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.rss{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.go.allocbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sys.go.totalbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sys.go.limitbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sys.cgo.allocbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.sys.cgo.totalbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Goroutines",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.goroutines{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Runnable Goroutines per CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Runnable Goroutines per CPU",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.runnable.goroutines.per_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Runs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Runs",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Pause Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Pause Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.pause.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Stopping Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Stopping Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.stop.ns{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Assist Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Assist Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.assist.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Non-GC Pause Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Non-GC Pause Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.go.pause.other.ns{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Non-GC Stopping Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Non-GC Stopping Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.go.stop.other.ns{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "User CPU Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Sys CPU Time",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.user.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.cpu.sys.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Clock Offset",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Clock Offset",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.clock.offset.meannanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Networking",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Bytes Sent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Sent",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.send.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Bytes Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Received",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.recv.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Heartbeat Latency: 50th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p50:cockroachdb.round_trip.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Heartbeat Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.round_trip.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Unhealthy RPC Connections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Unhealthy Connections",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rpc.connection.unhealthy{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Packet Errors and Drops",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Recv Errors",
                      "formula": "query1"
                    },
                    {
                      "alias": "Recv Drops",
                      "formula": "query2"
                    },
                    {
                      "alias": "Send Errors",
                      "formula": "query3"
                    },
                    {
                      "alias": "Send Drops",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.recv.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.host.net.recv.drop{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sys.host.net.send.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sys.host.net.send.drop{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "TCP Retransmits",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retransmitted Segments",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.send.tcp.retrans_segs{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy requests",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Requests",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.sent{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy request errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy forwards",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Forwards",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.forward.sent{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy forward errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Forward Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.forward.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "SQL",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Open SQL Sessions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open Sessions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.conns{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Connection Rate",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Rate",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.new_conns{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Upgrades of SQL Transaction Isolation Level",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Upgrades of Transaction Isolation Level",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txn.upgraded_iso_level.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Open SQL Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open Transactions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txns.open{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Active SQL Statements",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Active Statements",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.statements.active{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Byte Traffic",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes In",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Bytes Out",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.bytesin{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.bytesout{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Queries",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sql_crud_query_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Within Routines Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.routine.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.routine.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.routine.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.routine.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Contention",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Contention",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.contended.queries{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Full Table/Index Scans",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Full Scans",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.full.scan{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Deadlocks",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Deadlocks",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txnwaitqueue.deadlocks.total{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Active Flows for Distributed SQL Statements",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Active Flows",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.flows.active{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Failed SQL Connections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Number of Failed SQL Connections",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.conn.failures{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Connection Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.conn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Connection Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.conn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99.99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99.99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99.9th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Execution Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Execution Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.exec.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Execution Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Execution Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.exec.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Begin",
                      "formula": "query1"
                    },
                    {
                      "alias": "Commits",
                      "formula": "query2"
                    },
                    {
                      "alias": "Rollbacks",
                      "formula": "query3"
                    },
                    {
                      "alias": "Aborts",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txn.begin.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.txn.commit.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.txn.rollback.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.txn.abort.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Restarts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write Too Old",
                      "formula": "query1"
                    },
                    {
                      "alias": "Forwarded Timestamp (iso=serializable)",
                      "formula": "query2"
                    },
                    {
                      "alias": "Async Consensus Failure",
                      "formula": "query3"
                    },
                    {
                      "alias": "Read Within Uncertainty Interval",
                      "formula": "query4"
                    },
                    {
                      "alias": "Aborted",
                      "formula": "query5"
                    },
                    {
                      "alias": "Pushed",
                      "formula": "query6"
                    },
                    {
                      "alias": "Unknown",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txn.restarts.writetooold{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.txn.restarts.serializable{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.txn.restarts.asyncwritefailure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.txn.restarts.readwithinuncertainty{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.txn.restarts.txnaborted{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.txn.restarts.txnpush{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.txn.restarts.unknown{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Transaction Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.txn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Transaction Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.txn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Memory",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "SQL Memory",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.mem.root.current{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Schema Changes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "DDL Statements",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.ddl.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Table Statistics Collections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Auto Running",
                      "formula": "query1"
                    },
                    {
                      "alias": "Auto Partial Running",
                      "formula": "query2"
                    },
                    {
                      "alias": "Manual Running",
                      "formula": "query3"
                    },
                    {
                      "alias": "Auto Paused",
                      "formula": "query4"
                    },
                    {
                      "alias": "Auto Partial Paused",
                      "formula": "query5"
                    },
                    {
                      "alias": "Auto Failed",
                      "formula": "query6"
                    },
                    {
                      "alias": "Auto Partial Failed",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.jobs.create.stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Statement Denials: Cluster Settings",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Statements Denied",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.feature_flag_denial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Distributed Query Error Reruns",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Reruns",
                      "formula": "query1"
                    },
                    {
                      "alias": "Failures",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.dist_query_rerun_locally.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.distsql.dist_query_rerun_locally.failure_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Storage",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Available",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Used",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.capacity.used{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Live Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Live",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "System",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.livebytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sysbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "WAL Fsync Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99.99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p100",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99.99:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "max:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Log Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p50",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p50:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Command Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p50",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.raft.process.commandcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p50:cockroachdb.raft.process.commandcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Compaction Duration",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Compaction Duration",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.compactions.duration{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Level Compaction Scores",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0",
                      "formula": "query1"
                    },
                    {
                      "alias": "L1",
                      "formula": "query2"
                    },
                    {
                      "alias": "L2",
                      "formula": "query3"
                    },
                    {
                      "alias": "L3",
                      "formula": "query4"
                    },
                    {
                      "alias": "L4",
                      "formula": "query5"
                    },
                    {
                      "alias": "L5",
                      "formula": "query6"
                    },
                    {
                      "alias": "L6",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.storage.l1_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.storage.l2_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.storage.l3_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.storage.l4_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.storage.l5_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.storage.l6_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Read Amplification",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Read Amplification",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.read.amplification{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "File Counts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "sstables",
                      "formula": "query1"
                    },
                    {
                      "alias": "blob files",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.num_sstables{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.storage.value_separation.blob_files.count{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "L0 SSTable Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 SSTable Count",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_num_files{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "L0 SSTable Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 SSTable Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_level_size{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Flushes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Flushes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.flushed_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "WAL Bytes Written",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "WAL Bytes Written",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.wal.bytes_written{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Compactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Compactions",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.compacted_bytes_written{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Ingestions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ingestions",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.ingested_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Write Stalls",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write Stalls",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.write.stalls{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Store Disk Write Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Write",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.disk.write.bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Store Disk Read Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Read",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.disk.read.bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "File Descriptors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open",
                      "formula": "query1"
                    },
                    {
                      "alias": "Limit",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.fd.open{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.fd.softlimit{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Writes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Samples Written",
                      "formula": "query1"
                    },
                    {
                      "alias": "Errors",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.timeseries.write.samples{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.timeseries.write.errors{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Bytes Written",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Written",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.timeseries.write.bytes{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Ranges",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ranges",
                      "formula": "query1"
                    },
                    {
                      "alias": "Leaders",
                      "formula": "query2"
                    },
                    {
                      "alias": "Lease Holders",
                      "formula": "query3"
                    },
                    {
                      "alias": "Leaders w/o Lease",
                      "formula": "query4"
                    },
                    {
                      "alias": "Unavailable",
                      "formula": "query5"
                    },
                    {
                      "alias": "Under-replicated",
                      "formula": "query6"
                    },
                    {
                      "alias": "Over-replicated",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.ranges{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.replicas.leaders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.replicas.leaseholders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.replicas.leaders.not_leaseholders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.ranges.unavailable{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.ranges.underreplicated{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.ranges.overreplicated{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicas per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Leaseholders per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Leaseholders",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.leaseholders{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Types",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Expiration Leases",
                      "formula": "query1"
                    },
                    {
                      "alias": "Epoch Leases",
                      "formula": "query2"
                    },
                    {
                      "alias": "Leader Leases",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.leases.expiration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.leases.epoch{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.leases.leader{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Preferences",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Lease Preferences Violating",
                      "formula": "query1"
                    },
                    {
                      "alias": "Lease Preferences Less Preferred",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.leases.preferences.violating{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.leases.preferences.less_preferred{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Average Replica Queries per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Queries Per Second",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rebalancing.queriespersecond{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Average Replica CPU per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rebalancing.cpunanospersecond{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.totalbytes{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replica Quiescence",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    },
                    {
                      "alias": "Epoch Lease Quiescent",
                      "formula": "query2"
                    },
                    {
                      "alias": "Leader Lease Quiescent",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.replicas.quiescent{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.replicas.asleep{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Range Operations",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Splits",
                      "formula": "query1"
                    },
                    {
                      "alias": "Merges",
                      "formula": "query2"
                    },
                    {
                      "alias": "Adds",
                      "formula": "query3"
                    },
                    {
                      "alias": "Removes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Lease Transfers",
                      "formula": "query5"
                    },
                    {
                      "alias": "Load-based Lease Transfers",
                      "formula": "query6"
                    },
                    {
                      "alias": "Load-based Range Rebalances",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.splits.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.merges{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.adds{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.range.removes{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.leases.transfers.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.rebalancing.lease.transfers{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.rebalancing.range.rebalances{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Snapshots",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Generated",
                      "formula": "query1"
                    },
                    {
                      "alias": "Applied (Voters)",
                      "formula": "query2"
                    },
                    {
                      "alias": "Applied (Initial Upreplication)",
                      "formula": "query3"
                    },
                    {
                      "alias": "Applied (Non-Voters)",
                      "formula": "query4"
                    },
                    {
                      "alias": "Reserved",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.generated{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.snapshots.applied_voter{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.snapshots.applied_initial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.range.snapshots.applied_non_voter{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.replicas.reserved{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Snapshot Data Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Rebalancing",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Recovery",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Upreplication",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.rebalancing.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.snapshots.recovery.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.snapshots.upreplication.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Receiver Snapshots Queued",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Receiver Snapshots Queued",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.recv_queue{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Circuit Breaker Tripped Replicas",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Circuit Breaker Tripped Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kv.replica_circuit_breaker.num_tripped_replicas{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicate Queue Actions: Successes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas Added / Sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replicas Removed / Sec",
                      "formula": "query2"
                    },
                    {
                      "alias": "Dead Replicas Replaced / Sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Dead Replicas Removed / Sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Decommissioning Replicas Replaced / Sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Decommissioning Replicas Removed / Sec",
                      "formula": "query6"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.addreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.removereplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.replacedeadreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removedecommissioningreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicate Queue Actions: Failures",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas Added Errors / Sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replicas Removed Errors / Sec",
                      "formula": "query2"
                    },
                    {
                      "alias": "Dead Replicas Replaced Errors / Sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Dead Replicas Removed Errors / Sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Decommissioning Replicas Replaced Errors / Sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Decommissioning Replicas Removed Errors / Sec",
                      "formula": "query6"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.addreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.removereplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.replacedeadreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Decommissioning Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replaced Errors / Sec",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Distributed",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Batches",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Batches",
                      "formula": "query1"
                    },
                    {
                      "alias": "Partial Batches",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.batches.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.batches.partial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPCs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "RPCs Sent",
                      "formula": "query1"
                    },
                    {
                      "alias": "Local Fast-path",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.sent.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.rpc.sent.local{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "RPC Timeouts",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replica Errors",
                      "formula": "query2"
                    },
                    {
                      "alias": "Not Leaseholder Errors",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender_rpc_sent_sendnexttimeout{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.rpc.sent.nextreplicaerror{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.distsender.errors.notleaseholder{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Committed",
                      "formula": "query1"
                    },
                    {
                      "alias": "Fast-path Committed",
                      "formula": "query2"
                    },
                    {
                      "alias": "Aborted",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txn.commits{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.txn.commits1PC{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.txn.aborts{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transaction Durations: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Transaction Duration p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.txn.durations{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transaction Durations: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Transaction Duration p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.txn.durations{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Node Heartbeat Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Heartbeat Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.liveness.heartbeatlatency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Node Heartbeat Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Heartbeat Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.liveness.heartbeatlatency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Queues",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Queue Processing Failures",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replica GC",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replication",
                      "formula": "query3"
                    },
                    {
                      "alias": "Lease",
                      "formula": "query4"
                    },
                    {
                      "alias": "Split",
                      "formula": "query5"
                    },
                    {
                      "alias": "Merge",
                      "formula": "query6"
                    },
                    {
                      "alias": "Consistency",
                      "formula": "query7"
                    },
                    {
                      "alias": "Raft Log",
                      "formula": "query8"
                    },
                    {
                      "alias": "Raft Snapshot",
                      "formula": "query9"
                    },
                    {
                      "alias": "Time Series Maintenance",
                      "formula": "query10"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.lease.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.split.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.merge.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.consistency.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.raftlog.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.raftsnapshot.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query10",
                      "query": "sum:cockroachdb.queue.tsmaintenance.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Queue Processing Times",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Replica GC",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Replication",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Lease",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Split",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Merge",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Consistency",
                      "formula": "query7",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Raft Log",
                      "formula": "query8",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Raft Snapshot",
                      "formula": "query9",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Time Series Maintenance",
                      "formula": "query10",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.lease.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.split.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.merge.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.consistency.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.raftlog.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.raftsnapshot.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query10",
                      "query": "sum:cockroachdb.queue.tsmaintenance.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replica GC Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas Removed / sec",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicagc.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicagc.removereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas Added / sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Replicas Removed / sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Dead Replicas Removed / sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Learner Replicas Removed / sec",
                      "formula": "query6"
                    },
                    {
                      "alias": "Replicas Rebalanced / sec",
                      "formula": "query7"
                    },
                    {
                      "alias": "Leases Transferred / sec",
                      "formula": "query8"
                    },
                    {
                      "alias": "Replicas in Purgatory",
                      "formula": "query9"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.addreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removelearnerreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.replicate.rebalancereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.replicate.transferlease{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.replicate.purgatory{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas in  Purgatory",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.lease.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.lease.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.lease.purgatory{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Split Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.split.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.split.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Merge Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.merge.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.merge.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Raft Log Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.raftlog.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.raftlog.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Raft Snapshot Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.raftsnapshot.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.raftsnapshot.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Consistency Checker Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.consistency.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.consistency.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Maintenance Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.tsmaintenance.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.tsmaintenance.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "MVCC GC Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.gc.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Protected Timestamp Records",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Protected Timestamp Records",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.spanconfig.kvsubscriber.protected_record_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Slow Requests",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Raft Proposals",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Raft Proposals",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.raft{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow DistSender RPCs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow DistSender RPCs",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.distsender{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Lease Acquisitions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Lease Acquisitions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.lease{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Latch Acquisitions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Latch Acquisitions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.latch{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Changefeeds",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Changefeed Status",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query1"
                    },
                    {
                      "alias": "Paused",
                      "formula": "query2"
                    },
                    {
                      "alias": "Failed",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.changefeed.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.changefeed.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.jobs.changefeed.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "99th Percentile",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "90th Percentile",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "50th Percentile",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Emitted Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Emitted Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_emitted_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Sink Counts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Messages",
                      "formula": "query1"
                    },
                    {
                      "alias": "Flushes",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_emitted_messages{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.changefeed_flushes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Max Checkpoint Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max Checkpoint Latency",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_max_behind_nanos{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Changefeed Restarts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retryable Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_error_retries{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Oldest Protected Timestamp",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Protected Timestamp Age",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "second"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.changefeed.protected_age_sec{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Backfill Pending Ranges",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Backfill Pending Ranges",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_backfill_pending_ranges{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Schema Registry Registrations",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Schema Registry Registrations",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_schema_registry_registrations{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Ranges in catchup mode",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ranges",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rangefeed.catchup_ranges{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RangeFeed catchup scans duration",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Catchup Scan Duration",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kv.rangefeed.catchup_scan_nanos{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Overload",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Utilization",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Utilization",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.combined.percent.normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Admission CPU Slots Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Admission CPU Slots Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.slots_exhausted_duration.kv{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Foreground IO Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Foreground IO Tokens Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.io.tokens.exhausted.duration.kv{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Background IO Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Background IO Tokens Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.elastic_io_tokens_exhausted_duration.kv{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "IO Overload",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "IO Overload Score",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.io.overload{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Elastic CPU Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Elastic CPU Tokens Exhausted",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.elastic_cpu.nanos_exhausted_duration{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Foreground (Regular) CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "SQL-KV",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "SQL-SQL",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait.durations.kv{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.admission.wait.durations.sql_kv.response{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p99:cockroachdb.admission.wait.durations.sql_sql.response{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Foreground (Regular) Store",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait.durations.kv_stores{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Background (Elastic) Store",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "elastic",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait_durations.elastic_stores{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Background (Elastic) CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Elastic CPU",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait_durations.elastic_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Replication Admission Control",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Regular",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Elastic",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.kvflowcontrol.eval_wait.regular.duration{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.kvflowcontrol.eval_wait.elastic.duration{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Blocked Replication Streams",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Regular",
                      "formula": "query1"
                    },
                    {
                      "alias": "Elastic",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kvflowcontrol.streams.eval.regular.blocked_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.kvflowcontrol.streams.eval.elastic.blocked_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Stream Send Queue Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Send Queue Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kvflowcontrol.send_queue.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Elastic CPU Utilization",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Utilization",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    },
                    {
                      "alias": "Utilization Limit",
                      "formula": "query2 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.elastic_cpu.utilization{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.admission.elastic_cpu.utilization_limit{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99.9th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Runnable Goroutines per CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Runnable Goroutines per CPU",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.runnable.goroutines.per_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "LSM L0 Sublevels",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 Sublevels",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_sublevels{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "TTL",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Processing Rate",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "rows selected",
                      "formula": "query1"
                    },
                    {
                      "alias": "rows deleted",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row.level.ttl.rows_selected{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.row.level.ttl.rows_deleted{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Estimated Rows",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "approximate number of rows",
                      "formula": "query1"
                    },
                    {
                      "alias": "approximate number of expired rows",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.total_rows{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.total_expired_rows{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Job Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "scan latency (p50)",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p50)",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p75)",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p75)",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p90)",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p90)",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p99)",
                      "formula": "query7",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p99)",
                      "formula": "query8",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p50:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p50:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p75:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "p75:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "p90:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "p90:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "p99:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "p99:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Spans in Progress",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "number of spans being processed",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.num_active_spans{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Cross Cluster Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replication Lag",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.physical_replication_replicated_time_seconds{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.physical_replication_logical_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Logical Data Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replication Lag",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_replicated_time_seconds{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Updates Applied",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Row Updates Applied",
                      "formula": "query1"
                    },
                    {
                      "alias": "Row Updates sent to DLQ",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_events_ingested{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_logical_bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Application Processing Time: 50th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Processing Time p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_batch_hist_nanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Application Processing Time: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Processing Time p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_batch_hist_nanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "DLQ Causes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retry Duration Expired",
                      "formula": "query1"
                    },
                    {
                      "alias": "Retry Queue Full",
                      "formula": "query2"
                    },
                    {
                      "alias": "Non-retryable",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_age{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_space{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_errtype{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Retry Queue Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retry Queue Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_retry_queue_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    }
  ],
  "template_variables": [
    {
      "name": "region",
      "prefix": "region",
      "default": "*"
    },
    {
      "name": "cluster",
      "prefix": "cluster",
      "default": "*"
    },
    {
      "name": "host",
      "prefix": "host",
      "default": "*"
    },
    {
      "name": "node_id",
      "prefix": "node_id",
      "default": "*"
    },
    {
      "name": "store",
      "prefix": "store",
      "default": "*"
    }
  ]
}