# Test basic dashboard generation for both Datadog and Grafana
# This test verifies that the gen dashboard command produces valid JSON output.

gen-datadog
----
{
  "title": "CockroachDB Dashboard",
  "description": "CockroachDB metrics dashboard combining all metric categories",
  "layout_type": "ordered",
  "widgets": [
    {
      "definition": {
        "type": "group",
        "title": "Description",
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "image",
              "url": "/static/images/logos/cockroachdb_large.svg",
              "url_dark_theme": "/static/images/logos/cockroachdb_reversed_large.svg",
              "sizing": "cover",
              "has_background": true,
              "has_border": true,
              "vertical_align": "center",
              "horizontal_align": "center"
            }
          },
          {
            "definition": {
              "type": "note",
              "content": "This dashboard provides a high-level view of your CockroachDB cluster, including:\n- A high-level view of SQL performance \u0026 latency.\n- Information about resource consumption to help aid in capacity planning.",
              "background_color": "transparent",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "tick_pos": "100%",
              "tick_edge": "left"
            }
          },
          {
            "definition": {
              "type": "note",
              "content": "#### Optimize your CockroachDB integration configuration for monitoring\n1. Configure `cluster` and `region` tags in your `cockroachdb.d/conf.yaml` [file](https://github.com/DataDog/integrations-core/blob/7f091cbd40dfa13ec713d00d53caa2273a6cc7f6/cockroachdb/datadog_checks/cockroachdb/data/conf.yaml.example#L583-L591):\n\n    ```\n    instances:\n      - openmetrics_endpoint: http://localhost:8080/_status/vars\n        tags: [\"cluster:prod\", \"region:us-east-1\"]\n      - openmetrics_endpoint: http://localhost:8082/_status/vars\n        tags: [\"cluster:dev\", \"region:us-east-2\"]\n    ```",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "tick_pos": "100%",
              "tick_edge": "left",
              "has_padding": true
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Overview",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Queries",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sql_crud_query_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Contention",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Contention",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.contended.queries{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicas per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Available",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Used",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.capacity.used{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Hardware",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Percent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Usage",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.combined.percent.normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Host CPU Percent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Host CPU Usage",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.host.combined.percent_normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Memory Usage",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Memory",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.rss{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Read Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Read",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.read.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Write Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Write",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.write.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Read IOPS",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Read IOPS",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.read{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Write IOPS",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write IOPS",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.write{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Disk Ops In Progress",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ops In Progress",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.disk.iopsinprogress{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Available Disk Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Available Capacity",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Runtime",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Live Node Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Live Nodes",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.liveness.livenodes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Memory Usage",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Total memory (RSS)",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Allocated",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Total",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Go Limit",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "CGo Allocated",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "CGo Total",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.rss{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.go.allocbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sys.go.totalbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sys.go.limitbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sys.cgo.allocbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.sys.cgo.totalbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Goroutines",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.goroutines{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Runnable Goroutines per CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Runnable Goroutines per CPU",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.runnable.goroutines.per_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Runs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Runs",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Pause Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Pause Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.pause.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Stopping Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Stopping Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.stop.ns{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "GC Assist Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC Assist Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.gc.assist.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Non-GC Pause Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Non-GC Pause Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.go.pause.other.ns{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Non-GC Stopping Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Non-GC Stopping Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.go.stop.other.ns{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Time",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "User CPU Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Sys CPU Time",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.user.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.cpu.sys.ns{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Clock Offset",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Clock Offset",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.clock.offset.meannanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Networking",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Bytes Sent",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Sent",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.send.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Bytes Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Received",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.recv.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Heartbeat Latency: 50th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p50:cockroachdb.round_trip.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Heartbeat Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.round_trip.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Unhealthy RPC Connections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Unhealthy Connections",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rpc.connection.unhealthy{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Network Packet Errors and Drops",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Recv Errors",
                      "formula": "query1"
                    },
                    {
                      "alias": "Recv Drops",
                      "formula": "query2"
                    },
                    {
                      "alias": "Send Errors",
                      "formula": "query3"
                    },
                    {
                      "alias": "Send Drops",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.recv.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.host.net.recv.drop{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sys.host.net.send.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sys.host.net.send.drop{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "TCP Retransmits",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retransmitted Segments",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.host.net.send.tcp.retrans_segs{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy requests",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Requests",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.sent{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy request errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy forwards",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Forwards",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.forward.sent{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Proxy forward errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Proxy Forward Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.proxy.forward.err{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "SQL",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Open SQL Sessions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open Sessions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.conns{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Connection Rate",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Rate",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.new_conns{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Upgrades of SQL Transaction Isolation Level",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Upgrades of Transaction Isolation Level",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txn.upgraded_iso_level.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Open SQL Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open Transactions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txns.open{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Active SQL Statements",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Active Statements",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.statements.active{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Byte Traffic",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes In",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Bytes Out",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.bytesin{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.bytesout{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Queries",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.sql_crud_query_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Queries Within Routines Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Selects",
                      "formula": "query1"
                    },
                    {
                      "alias": "Updates",
                      "formula": "query2"
                    },
                    {
                      "alias": "Inserts",
                      "formula": "query3"
                    },
                    {
                      "alias": "Deletes",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.routine.select.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.routine.update.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.routine.insert.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.routine.delete.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Statement Contention",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Contention",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.contended.queries{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Full Table/Index Scans",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Full Scans",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.full.scan{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Deadlocks",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Deadlocks",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txnwaitqueue.deadlocks.total{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Active Flows for Distributed SQL Statements",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Active Flows",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.flows.active{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Failed SQL Connections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Number of Failed SQL Connections",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.conn.failures{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Connection Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.conn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Connection Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Connection Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.conn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99.99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99.99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99.9th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Service Latency: SQL Statements, 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Service Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.service.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Execution Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Execution Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.exec.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Execution Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Execution Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.exec.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Begin",
                      "formula": "query1"
                    },
                    {
                      "alias": "Commits",
                      "formula": "query2"
                    },
                    {
                      "alias": "Rollbacks",
                      "formula": "query3"
                    },
                    {
                      "alias": "Aborts",
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.txn.begin.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.txn.commit.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.sql.txn.rollback.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.sql.txn.abort.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Restarts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write Too Old",
                      "formula": "query1"
                    },
                    {
                      "alias": "Forwarded Timestamp (iso=serializable)",
                      "formula": "query2"
                    },
                    {
                      "alias": "Async Consensus Failure",
                      "formula": "query3"
                    },
                    {
                      "alias": "Read Within Uncertainty Interval",
                      "formula": "query4"
                    },
                    {
                      "alias": "Aborted",
                      "formula": "query5"
                    },
                    {
                      "alias": "Pushed",
                      "formula": "query6"
                    },
                    {
                      "alias": "Unknown",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txn.restarts.writetooold{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.txn.restarts.serializable{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.txn.restarts.asyncwritefailure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.txn.restarts.readwithinuncertainty{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.txn.restarts.txnaborted{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.txn.restarts.txnpush{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.txn.restarts.unknown{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Transaction Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.sql.txn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Transaction Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Transaction Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.sql.txn.latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "SQL Memory",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "SQL Memory",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.mem.root.current{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Schema Changes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "DDL Statements",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.ddl.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Table Statistics Collections",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Auto Running",
                      "formula": "query1"
                    },
                    {
                      "alias": "Auto Partial Running",
                      "formula": "query2"
                    },
                    {
                      "alias": "Manual Running",
                      "formula": "query3"
                    },
                    {
                      "alias": "Auto Paused",
                      "formula": "query4"
                    },
                    {
                      "alias": "Auto Partial Paused",
                      "formula": "query5"
                    },
                    {
                      "alias": "Auto Failed",
                      "formula": "query6"
                    },
                    {
                      "alias": "Auto Partial Failed",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.jobs.create.stats.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.jobs.auto.create.stats.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.jobs.auto_create_partial_stats.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Statement Denials: Cluster Settings",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Statements Denied",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.feature_flag_denial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Distributed Query Error Reruns",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Reruns",
                      "formula": "query1"
                    },
                    {
                      "alias": "Failures",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sql.distsql.dist_query_rerun_locally.count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sql.distsql.dist_query_rerun_locally.failure_count{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Storage",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Capacity",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Available",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Used",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.capacity.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.capacity.available{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.capacity.used{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Live Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Live",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "System",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.livebytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sysbytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "WAL Fsync Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99.99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p100",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99.99:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "max:cockroachdb.storage.wal.fsync.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Log Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p50",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p50:cockroachdb.raft.process.logcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Command Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p50",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.raft.process.commandcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p50:cockroachdb.raft.process.commandcommit.latency{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Compaction Duration",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Compaction Duration",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.compactions.duration{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Level Compaction Scores",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0",
                      "formula": "query1"
                    },
                    {
                      "alias": "L1",
                      "formula": "query2"
                    },
                    {
                      "alias": "L2",
                      "formula": "query3"
                    },
                    {
                      "alias": "L3",
                      "formula": "query4"
                    },
                    {
                      "alias": "L4",
                      "formula": "query5"
                    },
                    {
                      "alias": "L5",
                      "formula": "query6"
                    },
                    {
                      "alias": "L6",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.storage.l1_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.storage.l2_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.storage.l3_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.storage.l4_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.storage.l5_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.storage.l6_level_score{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Read Amplification",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Read Amplification",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.read.amplification{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "File Counts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "sstables",
                      "formula": "query1"
                    },
                    {
                      "alias": "blob files",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.num_sstables{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.storage.value_separation.blob_files.count{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "L0 SSTable Count",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 SSTable Count",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_num_files{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "L0 SSTable Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 SSTable Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_level_size{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Flushes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Flushes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.flushed_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "WAL Bytes Written",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "WAL Bytes Written",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.wal.bytes_written{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Compactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Compactions",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.compacted_bytes_written{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Ingestions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ingestions",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rocksdb.ingested_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Write Stalls",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Write Stalls",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.write.stalls{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Store Disk Write Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Write",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.disk.write.bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Store Disk Read Bytes/s",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Disk Read",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.disk.read.bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "File Descriptors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Open",
                      "formula": "query1"
                    },
                    {
                      "alias": "Limit",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.fd.open{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.sys.fd.softlimit{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Writes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Samples Written",
                      "formula": "query1"
                    },
                    {
                      "alias": "Errors",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.timeseries.write.samples{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.timeseries.write.errors{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Bytes Written",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Bytes Written",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.timeseries.write.bytes{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Ranges",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ranges",
                      "formula": "query1"
                    },
                    {
                      "alias": "Leaders",
                      "formula": "query2"
                    },
                    {
                      "alias": "Lease Holders",
                      "formula": "query3"
                    },
                    {
                      "alias": "Leaders w/o Lease",
                      "formula": "query4"
                    },
                    {
                      "alias": "Unavailable",
                      "formula": "query5"
                    },
                    {
                      "alias": "Under-replicated",
                      "formula": "query6"
                    },
                    {
                      "alias": "Over-replicated",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.ranges{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.replicas.leaders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.replicas.leaseholders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.replicas.leaders.not_leaseholders{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.ranges.unavailable{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.ranges.underreplicated{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.ranges.overreplicated{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicas per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Leaseholders per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Leaseholders",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.leaseholders{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Types",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Expiration Leases",
                      "formula": "query1"
                    },
                    {
                      "alias": "Epoch Leases",
                      "formula": "query2"
                    },
                    {
                      "alias": "Leader Leases",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.leases.expiration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.leases.epoch{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.leases.leader{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Preferences",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Lease Preferences Violating",
                      "formula": "query1"
                    },
                    {
                      "alias": "Lease Preferences Less Preferred",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.leases.preferences.violating{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.leases.preferences.less_preferred{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Average Replica Queries per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Queries Per Second",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rebalancing.queriespersecond{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Average Replica CPU per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Time",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.rebalancing.cpunanospersecond{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes per Node",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.totalbytes{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replica Quiescence",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas",
                      "formula": "query1"
                    },
                    {
                      "alias": "Epoch Lease Quiescent",
                      "formula": "query2"
                    },
                    {
                      "alias": "Leader Lease Quiescent",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.replicas.total{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.replicas.quiescent{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.replicas.asleep{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Range Operations",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Splits",
                      "formula": "query1"
                    },
                    {
                      "alias": "Merges",
                      "formula": "query2"
                    },
                    {
                      "alias": "Adds",
                      "formula": "query3"
                    },
                    {
                      "alias": "Removes",
                      "formula": "query4"
                    },
                    {
                      "alias": "Lease Transfers",
                      "formula": "query5"
                    },
                    {
                      "alias": "Load-based Lease Transfers",
                      "formula": "query6"
                    },
                    {
                      "alias": "Load-based Range Rebalances",
                      "formula": "query7"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.splits.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.merges{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.adds{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.range.removes{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.leases.transfers.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.rebalancing.lease.transfers{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.rebalancing.range.rebalances{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Snapshots",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Generated",
                      "formula": "query1"
                    },
                    {
                      "alias": "Applied (Voters)",
                      "formula": "query2"
                    },
                    {
                      "alias": "Applied (Initial Upreplication)",
                      "formula": "query3"
                    },
                    {
                      "alias": "Applied (Non-Voters)",
                      "formula": "query4"
                    },
                    {
                      "alias": "Reserved",
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.generated{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.snapshots.applied_voter{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.snapshots.applied_initial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.range.snapshots.applied_non_voter{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.replicas.reserved{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Snapshot Data Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Rebalancing",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Recovery",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    },
                    {
                      "alias": "Upreplication",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.rebalancing.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.range.snapshots.recovery.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.range.snapshots.upreplication.rcvd_bytes{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Receiver Snapshots Queued",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Receiver Snapshots Queued",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.range.snapshots.recv_queue{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Circuit Breaker Tripped Replicas",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Circuit Breaker Tripped Replicas",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kv.replica_circuit_breaker.num_tripped_replicas{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicate Queue Actions: Successes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas Added / Sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replicas Removed / Sec",
                      "formula": "query2"
                    },
                    {
                      "alias": "Dead Replicas Replaced / Sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Dead Replicas Removed / Sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Decommissioning Replicas Replaced / Sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Decommissioning Replicas Removed / Sec",
                      "formula": "query6"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.addreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.removereplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.replacedeadreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removedecommissioningreplica.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replicate Queue Actions: Failures",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replicas Added Errors / Sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replicas Removed Errors / Sec",
                      "formula": "query2"
                    },
                    {
                      "alias": "Dead Replicas Replaced Errors / Sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Dead Replicas Removed Errors / Sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Decommissioning Replicas Replaced Errors / Sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Decommissioning Replicas Removed Errors / Sec",
                      "formula": "query6"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.addreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.removereplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.replacedeadreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Decommissioning Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replaced Errors / Sec",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.replacedecommissioningreplica.error{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Distributed",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Batches",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Batches",
                      "formula": "query1"
                    },
                    {
                      "alias": "Partial Batches",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.batches.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.batches.partial{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPCs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "RPCs Sent",
                      "formula": "query1"
                    },
                    {
                      "alias": "Local Fast-path",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rpc.sent.total{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.rpc.sent.local{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RPC Errors",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "RPC Timeouts",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replica Errors",
                      "formula": "query2"
                    },
                    {
                      "alias": "Not Leaseholder Errors",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender_rpc_sent_sendnexttimeout{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.distsender.rpc.sent.nextreplicaerror{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.distsender.errors.notleaseholder{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transactions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Committed",
                      "formula": "query1"
                    },
                    {
                      "alias": "Fast-path Committed",
                      "formula": "query2"
                    },
                    {
                      "alias": "Aborted",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.txn.commits{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.txn.commits1PC{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.txn.aborts{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transaction Durations: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Transaction Duration p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.txn.durations{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Transaction Durations: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Transaction Duration p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.txn.durations{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Node Heartbeat Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Heartbeat Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.liveness.heartbeatlatency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Node Heartbeat Latency: 90th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Heartbeat Latency p90",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p90:cockroachdb.liveness.heartbeatlatency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Queues",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Queue Processing Failures",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC",
                      "formula": "query1"
                    },
                    {
                      "alias": "Replica GC",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replication",
                      "formula": "query3"
                    },
                    {
                      "alias": "Lease",
                      "formula": "query4"
                    },
                    {
                      "alias": "Split",
                      "formula": "query5"
                    },
                    {
                      "alias": "Merge",
                      "formula": "query6"
                    },
                    {
                      "alias": "Consistency",
                      "formula": "query7"
                    },
                    {
                      "alias": "Raft Log",
                      "formula": "query8"
                    },
                    {
                      "alias": "Raft Snapshot",
                      "formula": "query9"
                    },
                    {
                      "alias": "Time Series Maintenance",
                      "formula": "query10"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.lease.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.split.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.merge.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.consistency.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.raftlog.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.raftsnapshot.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query10",
                      "query": "sum:cockroachdb.queue.tsmaintenance.process.failure{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Queue Processing Times",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "GC",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Replica GC",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Replication",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Lease",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Split",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Merge",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Consistency",
                      "formula": "query7",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Raft Log",
                      "formula": "query8",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Raft Snapshot",
                      "formula": "query9",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Time Series Maintenance",
                      "formula": "query10",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.lease.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.split.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.merge.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.consistency.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.raftlog.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.raftsnapshot.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query10",
                      "query": "sum:cockroachdb.queue.tsmaintenance.processingnanos{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replica GC Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas Removed / sec",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicagc.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicagc.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicagc.removereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas Added / sec",
                      "formula": "query3"
                    },
                    {
                      "alias": "Replicas Removed / sec",
                      "formula": "query4"
                    },
                    {
                      "alias": "Dead Replicas Removed / sec",
                      "formula": "query5"
                    },
                    {
                      "alias": "Learner Replicas Removed / sec",
                      "formula": "query6"
                    },
                    {
                      "alias": "Replicas Rebalanced / sec",
                      "formula": "query7"
                    },
                    {
                      "alias": "Leases Transferred / sec",
                      "formula": "query8"
                    },
                    {
                      "alias": "Replicas in Purgatory",
                      "formula": "query9"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.replicate.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.replicate.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.replicate.addreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "sum:cockroachdb.queue.replicate.removereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "sum:cockroachdb.queue.replicate.removedeadreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "sum:cockroachdb.queue.replicate.removelearnerreplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "sum:cockroachdb.queue.replicate.rebalancereplica{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "sum:cockroachdb.queue.replicate.transferlease{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query9",
                      "query": "sum:cockroachdb.queue.replicate.purgatory{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Lease Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    },
                    {
                      "alias": "Replicas in  Purgatory",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.lease.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.lease.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.queue.lease.purgatory{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Split Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.split.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.split.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Merge Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.merge.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.merge.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Raft Log Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.raftlog.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.raftlog.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Raft Snapshot Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.raftsnapshot.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.raftsnapshot.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Consistency Checker Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.consistency.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.consistency.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Time Series Maintenance Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.tsmaintenance.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.tsmaintenance.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "MVCC GC Queue",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Successful Actions / sec",
                      "formula": "query1"
                    },
                    {
                      "alias": "Pending Actions",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.queue.gc.process.success{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.queue.gc.pending{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Protected Timestamp Records",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Protected Timestamp Records",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.spanconfig.kvsubscriber.protected_record_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Slow Requests",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Raft Proposals",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Raft Proposals",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.raft{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow DistSender RPCs",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow DistSender RPCs",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.distsender{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Lease Acquisitions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Lease Acquisitions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.lease{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Slow Latch Acquisitions",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Slow Latch Acquisitions",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.requests.slow.latch{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Changefeeds",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Changefeed Status",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query1"
                    },
                    {
                      "alias": "Paused",
                      "formula": "query2"
                    },
                    {
                      "alias": "Failed",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.changefeed.currently_running{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.changefeed.currently_paused{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.jobs.changefeed.resume_failed{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Commit Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "99th Percentile",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "90th Percentile",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "50th Percentile",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.changefeed_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Emitted Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Emitted Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_emitted_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Sink Counts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Messages",
                      "formula": "query1"
                    },
                    {
                      "alias": "Flushes",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_emitted_messages{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.changefeed_flushes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Max Checkpoint Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Max Checkpoint Latency",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_max_behind_nanos{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Changefeed Restarts",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retryable Errors",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_error_retries{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Oldest Protected Timestamp",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Protected Timestamp Age",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "second"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.changefeed.protected_age_sec{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Backfill Pending Ranges",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Backfill Pending Ranges",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_backfill_pending_ranges{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Schema Registry Registrations",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Schema Registry Registrations",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.changefeed_schema_registry_registrations{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Ranges in catchup mode",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Ranges",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.distsender.rangefeed.catchup_ranges{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "RangeFeed catchup scans duration",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Catchup Scan Duration",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kv.rangefeed.catchup_scan_nanos{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Overload",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "CPU Utilization",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "CPU Utilization",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.cpu.combined.percent.normalized{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "KV Admission CPU Slots Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV Admission CPU Slots Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.slots_exhausted_duration.kv{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Foreground IO Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Foreground IO Tokens Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.io.tokens.exhausted.duration.kv{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Background IO Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Background IO Tokens Exhausted",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.granter.elastic_io_tokens_exhausted_duration.kv{$region,$cluster,$host,$store,$node_id} by {store}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "IO Overload",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "IO Overload Score",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.io.overload{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Elastic CPU Tokens Exhausted Duration Per Second",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Elastic CPU Tokens Exhausted",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.elastic_cpu.nanos_exhausted_duration{$region,$cluster,$host,$store,$node_id} by {node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Foreground (Regular) CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "SQL-KV",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "SQL-SQL",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait.durations.kv{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.admission.wait.durations.sql_kv.response{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p99:cockroachdb.admission.wait.durations.sql_sql.response{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Foreground (Regular) Store",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "KV",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait.durations.kv_stores{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Background (Elastic) Store",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "elastic",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait_durations.elastic_stores{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Background (Elastic) CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Elastic CPU",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.admission.wait_durations.elastic_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Admission Queueing Delay p99  Replication Admission Control",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Regular",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "Elastic",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.kvflowcontrol.eval_wait.regular.duration{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p99:cockroachdb.kvflowcontrol.eval_wait.elastic.duration{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Blocked Replication Streams",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Regular",
                      "formula": "query1"
                    },
                    {
                      "alias": "Elastic",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kvflowcontrol.streams.eval.regular.blocked_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.kvflowcontrol.streams.eval.elastic.blocked_count{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Stream Send Queue Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Send Queue Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.kvflowcontrol.send_queue.bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Elastic CPU Utilization",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Utilization",
                      "formula": "query1 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    },
                    {
                      "alias": "Utilization Limit",
                      "formula": "query2 * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.admission.elastic_cpu.utilization{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.admission.elastic_cpu.utilization_limit{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Goroutine Scheduling Latency: 99.9th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Scheduling Latency p99.9",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p99.9:cockroachdb.go.scheduler_latency{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Runnable Goroutines per CPU",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Runnable Goroutines per CPU",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.sys.runnable.goroutines.per_cpu{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "LSM L0 Sublevels",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "L0 Sublevels",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.storage.l0_sublevels{$region,$cluster,$host,$store,$node_id} by {store}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "TTL",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Processing Rate",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "rows selected",
                      "formula": "query1"
                    },
                    {
                      "alias": "rows deleted",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row.level.ttl.rows_selected{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.row.level.ttl.rows_deleted{$region,$cluster,$host,$store,$node_id}.as_rate().rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Estimated Rows",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "approximate number of rows",
                      "formula": "query1"
                    },
                    {
                      "alias": "approximate number of expired rows",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.total_rows{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.total_expired_rows{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Job Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "scan latency (p50)",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p50)",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p75)",
                      "formula": "query3",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p75)",
                      "formula": "query4",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p90)",
                      "formula": "query5",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p90)",
                      "formula": "query6",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "scan latency (p99)",
                      "formula": "query7",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "delete latency (p99)",
                      "formula": "query8",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p50:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "p50:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "p75:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "p75:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "p90:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "p90:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query7",
                      "query": "p99:cockroachdb.jobs.row_level_ttl.select_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query8",
                      "query": "p99:cockroachdb.jobs.row_level_ttl.delete_duration{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Spans in Progress",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "number of spans being processed",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.jobs.row_level_ttl.num_active_spans{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Cross Cluster Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replication Lag",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.physical_replication_replicated_time_seconds{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.physical_replication_logical_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    },
    {
      "definition": {
        "type": "group",
        "title": "Logical Data Replication",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Latency",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    },
                    {
                      "alias": "p99",
                      "formula": "query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_commit_latency{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Replication Lag",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Replication Lag",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_replicated_time_seconds{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Updates Applied",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Row Updates Applied",
                      "formula": "query1"
                    },
                    {
                      "alias": "Row Updates sent to DLQ",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_events_ingested{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Logical Bytes Received",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logical Bytes",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_logical_bytes{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Application Processing Time: 50th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Processing Time p50",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_batch_hist_nanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Row Application Processing Time: 99th percentile",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Processing Time p99",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "nanosecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_batch_hist_nanos{$region,$cluster,$host,$store,$node_id} by {node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "DLQ Causes",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retry Duration Expired",
                      "formula": "query1"
                    },
                    {
                      "alias": "Retry Queue Full",
                      "formula": "query2"
                    },
                    {
                      "alias": "Non-retryable",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_age{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_space{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:cockroachdb.logical_replication_events_dlqed_errtype{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          },
          {
            "definition": {
              "type": "timeseries",
              "title": "Retry Queue Size",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Retry Queue Size",
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:cockroachdb.logical_replication_retry_queue_bytes{$region,$cluster,$host,$store,$node_id}.rollup(sum, 10)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "min": "0",
                "max": "auto"
              }
            }
          }
        ]
      }
    }
  ],
  "template_variables": [
    {
      "name": "region",
      "prefix": "region",
      "default": "*"
    },
    {
      "name": "cluster",
      "prefix": "cluster",
      "default": "*"
    },
    {
      "name": "host",
      "prefix": "host",
      "default": "*"
    },
    {
      "name": "node_id",
      "prefix": "node_id",
      "default": "*"
    },
    {
      "name": "store",
      "prefix": "store",
      "default": "*"
    }
  ]
}

gen-grafana
----
{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "prometheus",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations \u0026 Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "panels": [
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 1,
      "title": "Overview",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 1
      },
      "id": 2,
      "title": "SQL Queries Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "A moving average of the number of SELECT, INSERT, UPDATE, and DELETE statements, and the sum of all four, successfully executed per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_select_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Selects",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_update_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Updates",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_insert_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Inserts",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_delete_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Deletes",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_crud_query_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Total Queries",
          "range": true,
          "refId": "5"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 9
      },
      "id": 3,
      "title": "Service Latency: SQL Statements, 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 99% of SQL statements within this time. This time only includes SELECT, INSERT, UPDATE and DELETE statements and does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(sql_service_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Service Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 9
      },
      "id": 4,
      "title": "SQL Statement Contention",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "A moving average of the number of SQL statements executed per second that experienced contention.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Average number of queries per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_distsql_contended_queries_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Contention",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 17
      },
      "id": 5,
      "title": "Replicas per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of range replicas stored on this node. Ranges are subsets of your data, which are replicated to ensure survivability.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replicas-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 17
      },
      "id": 6,
      "title": "Capacity",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Capacity graph showing storage metrics",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "capacity",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Max",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity_available{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Available",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity_used{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Used",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 7,
      "title": "Hardware",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 26
      },
      "id": 8,
      "title": "CPU Percent",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "CPU usage for the CRDB nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "CPU",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_cpu_combined_percent_normalized{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "CPU Usage-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 34
      },
      "id": 9,
      "title": "Host CPU Percent",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Machine-wide CPU usage",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "CPU",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_cpu_host_combined_percent_normalized{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Host CPU Usage-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 34
      },
      "id": 10,
      "title": "Memory Usage",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Memory in use",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "memory usage",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_rss{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Memory-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 42
      },
      "id": 11,
      "title": "Disk Read Bytes/s",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_disk_read_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Disk Read-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 42
      },
      "id": 12,
      "title": "Disk Write Bytes/s",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_disk_write_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Disk Write-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 50
      },
      "id": 13,
      "title": "Disk Read IOPS",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "IOPS",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_disk_read_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read IOPS-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 50
      },
      "id": 14,
      "title": "Disk Write IOPS",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "IOPS",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_disk_write_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Write IOPS-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 58
      },
      "id": 15,
      "title": "Disk Ops In Progress",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Ops",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_host_disk_iopsinprogress{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Ops In Progress-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 58
      },
      "id": 16,
      "title": "Available Disk Capacity",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "capacity",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity_available{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Available Capacity-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 66
      },
      "id": 17,
      "title": "Runtime",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 67
      },
      "id": 18,
      "title": "Live Node Count",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of live nodes in the cluster.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "nodes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(liveness_livenodes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Live Nodes-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 75
      },
      "id": 19,
      "title": "Memory Usage",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Memory in use by CockroachDB",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "memory usage",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_rss{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Total memory (RSS)",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_go_allocbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Go Allocated",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_go_totalbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Go Total",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_go_limitbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Go Limit",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_cgo_allocbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "CGo Allocated",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_cgo_totalbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "CGo Total",
          "range": true,
          "refId": "6"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 75
      },
      "id": 20,
      "title": "Goroutine Count",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of Goroutines. This count should rise and fall based on load.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "goroutines",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_goroutines{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Goroutines",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 83
      },
      "id": 21,
      "title": "Goroutine Scheduling Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "P99 scheduling latency for goroutines",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(go_scheduler_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Scheduling Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 83
      },
      "id": 22,
      "title": "Runnable Goroutines per CPU",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of Goroutines waiting for CPU. This count should rise and fall based on load.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "goroutines",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_runnable_goroutines_per_cpu{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Runnable Goroutines per CPU-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 91
      },
      "id": 23,
      "title": "GC Runs",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of times that Go's garbage collector was invoked per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "runs",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_gc_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "GC Runs",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 91
      },
      "id": 24,
      "title": "GC Pause Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The amount of processor time used by Go's garbage collector per second. During garbage collection, application code execution is paused.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "pause time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_gc_pause_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "GC Pause Time",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 99
      },
      "id": 25,
      "title": "GC Stopping Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The time it takes from deciding to stop-the-world (gc related) until all Ps are stopped.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "pause time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_gc_stop_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "GC Stopping Time-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 99
      },
      "id": 26,
      "title": "GC Assist Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Estimated total CPU time user goroutines spent performing GC tasks on processors.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "gc assist time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_gc_assist_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "GC Assist Time",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 107
      },
      "id": 27,
      "title": "Non-GC Pause Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The stop-the-world pause time during non-gc process.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "pause time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_go_pause_other_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Non-GC Pause Time",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 107
      },
      "id": 28,
      "title": "Non-GC Stopping Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The time it takes from deciding to stop-the-world (non-gc-related) until all Ps are stopped.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "pause time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_go_stop_other_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Non-GC Stopping Time",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 115
      },
      "id": 29,
      "title": "CPU Time",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The amount of CPU time used by CockroachDB (User) and system-level operations (Sys).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "cpu time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_cpu_user_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "User CPU Time",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_cpu_sys_ns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Sys CPU Time",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 115
      },
      "id": 30,
      "title": "Clock Offset",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Mean clock offset of each node against the rest of the cluster.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "offset",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(clock_offset_meannanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Clock Offset-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 123
      },
      "id": 31,
      "title": "Networking",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 124
      },
      "id": 32,
      "title": "Network Bytes Sent",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_send_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Bytes Sent-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 132
      },
      "id": 33,
      "title": "Network Bytes Received",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_recv_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Bytes Received-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 132
      },
      "id": 34,
      "title": "RPC Heartbeat Latency: 50th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Round-trip latency for recent successful outgoing heartbeats.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.50, rate(round_trip_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Latency p50-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 140
      },
      "id": 35,
      "title": "RPC Heartbeat Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Round-trip latency for recent successful outgoing heartbeats.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(round_trip_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 140
      },
      "id": 36,
      "title": "Unhealthy RPC Connections",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of outgoing connections on each node that are in an unhealthy state.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "connections",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rpc_connection_unhealthy{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Unhealthy Connections-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 148
      },
      "id": 37,
      "title": "Network Packet Errors and Drops",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "packets",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_recv_err{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Recv Errors-n$node",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_recv_drop{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Recv Drops-n$node",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_send_err{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Send Errors-n$node",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_send_drop{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Send Drops-n$node",
          "range": true,
          "refId": "4"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 148
      },
      "id": 38,
      "title": "TCP Retransmits",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of TCP segments retransmitted. Some retransmissions are benign, but phase changes can be indicative of network congestion or overloaded peers.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "segments",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sys_host_net_send_tcp_retrans_segs{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Retransmitted Segments-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 156
      },
      "id": 39,
      "title": "Proxy requests",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of proxy attempts each gateway node is initiating.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "requests",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_proxy_sent{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Proxy Requests-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 156
      },
      "id": 40,
      "title": "Proxy request errors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of proxy attempts which resulted in an error.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "errors",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_proxy_err{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Proxy Errors-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 164
      },
      "id": 41,
      "title": "Proxy forwards",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of proxy requests each server node is attempting to foward.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "requests",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_proxy_forward_sent{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Proxy Forwards-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 164
      },
      "id": 42,
      "title": "Proxy forward errors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of proxy forward attempts which resulted in an error.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "errors",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_proxy_forward_err{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Proxy Forward Errors-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 172
      },
      "id": 43,
      "title": "SQL",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 173
      },
      "id": 44,
      "title": "Open SQL Sessions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of open SQL Sessions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "connections",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sql_conns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Open Sessions-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 181
      },
      "id": 45,
      "title": "SQL Connection Rate",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Rate of SQL connection attempts",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "connections per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_new_conns{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Connection Rate-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 181
      },
      "id": 46,
      "title": "Upgrades of SQL Transaction Isolation Level",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of times a SQL transaction was upgraded to a stronger isolation level. If this metric is non-zero, then your application may be affected by the upcoming support of additional isolation levels.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transactions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_txn_upgraded_iso_level_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Upgrades of Transaction Isolation Level",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 189
      },
      "id": 47,
      "title": "Open SQL Transactions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of open SQL transactions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transactions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sql_txns_open{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Open Transactions",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 189
      },
      "id": 48,
      "title": "Active SQL Statements",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of running SQL statements.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sql_statements_active{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Active Statements",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 197
      },
      "id": 49,
      "title": "SQL Byte Traffic",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total amount of SQL client network traffic in bytes per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "byte traffic",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_bytesin{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Bytes In",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_bytesout{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Bytes Out",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 197
      },
      "id": 50,
      "title": "SQL Queries Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "A ten-second moving average of the # of SELECT, INSERT, UPDATE, and DELETE statements, and the sum of all four, successfully executed per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_select_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Selects",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_update_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Updates",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_insert_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Inserts",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_delete_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Deletes",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_crud_query_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Total Queries",
          "range": true,
          "refId": "5"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 205
      },
      "id": 51,
      "title": "SQL Queries Within Routines Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "A ten-second moving average of the # of SELECT, INSERT, UPDATE, and DELETE statements executed within routines (user-defined functions and stored procedures).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries within routines",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_routine_select_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Selects",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_routine_update_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Updates",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_routine_insert_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Inserts",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_routine_delete_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Deletes",
          "range": true,
          "refId": "4"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 205
      },
      "id": 52,
      "title": "SQL Statement Errors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of statements which returned a planning, runtime, or client-side retry error.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "errors",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_failure_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Errors",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 213
      },
      "id": 53,
      "title": "SQL Statement Contention",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of SQL statements that experienced contention.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_distsql_contended_queries_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Contention",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 213
      },
      "id": 54,
      "title": "Full Table/Index Scans",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of full table/index scans per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "full scans per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_full_scan_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Full Scans-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 221
      },
      "id": 55,
      "title": "Transaction Deadlocks",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of transaction per second; typically, should be 0.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transaction deadlocks per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txnwaitqueue_deadlocks_total{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Deadlocks-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 221
      },
      "id": 56,
      "title": "Active Flows for Distributed SQL Statements",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of flows on each node contributing to currently running distributed SQL statements.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "flows",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sql_distsql_flows_active{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Active Flows-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 229
      },
      "id": 57,
      "title": "Failed SQL Connections",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of failed SQL connection attempts.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "failed connections",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_conn_failures{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Number of Failed SQL Connections-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 229
      },
      "id": 58,
      "title": "Connection Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node established and authenticated 99% of connections within this time.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(sql_conn_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Connection Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 237
      },
      "id": 59,
      "title": "Connection Latency: 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node established and authenticated 90% of connections within this time.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(sql_conn_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Connection Latency p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 237
      },
      "id": 60,
      "title": "Service Latency: SQL Statements, 99.99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 99.99% of SQL statements within this time. This time only includes SELECT, INSERT, UPDATE and DELETE statements and does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.9999, rate(sql_service_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Service Latency p99.99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 245
      },
      "id": 61,
      "title": "Service Latency: SQL Statements, 99.9th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 99.9% of SQL statements within this time. This time only includes SELECT, INSERT, UPDATE and DELETE statements and does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.999, rate(sql_service_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Service Latency p99.9-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 245
      },
      "id": 62,
      "title": "Service Latency: SQL Statements, 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 99% of SQL statements within this time. This time only includes SELECT, INSERT, UPDATE and DELETE statements and does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(sql_service_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Service Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 253
      },
      "id": 63,
      "title": "Service Latency: SQL Statements, 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 90% of SQL statements within this time. This time only includes SELECT, INSERT, UPDATE and DELETE statements and does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(sql_service_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Service Latency p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 253
      },
      "id": 64,
      "title": "KV Execution Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile of latency between query requests and responses over a 1 minute period. Values are displayed individually for each node.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(exec_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV Execution Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 261
      },
      "id": 65,
      "title": "KV Execution Latency: 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 90th percentile of latency between query requests and responses over a 1 minute period. Values are displayed individually for each node.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(exec_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV Execution Latency p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 261
      },
      "id": 66,
      "title": "Transactions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of transactions initiated, committed, rolled back, or aborted per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transactions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_txn_begin_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Begin",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_txn_commit_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Commits",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_txn_rollback_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Rollbacks",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_txn_abort_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Aborts",
          "range": true,
          "refId": "4"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 269
      },
      "id": 67,
      "title": "Transaction Restarts",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Transaction restarts broken down by reason.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "restarts",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_writetooold{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Write Too Old",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_serializable{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Forwarded Timestamp (iso=serializable)",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_asyncwritefailure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Async Consensus Failure",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_readwithinuncertainty{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read Within Uncertainty Interval",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_txnaborted{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Aborted",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_txnpush{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Pushed",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_restarts_unknown{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Unknown",
          "range": true,
          "refId": "7"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 269
      },
      "id": 68,
      "title": "Transaction Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 99% of transactions within this time. This time does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(sql_txn_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Transaction Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 277
      },
      "id": 69,
      "title": "Transaction Latency: 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Over the last minute, this node executed 90% of transactions within this time. This time does not include network latency between the node and client.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(sql_txn_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Transaction Latency p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 277
      },
      "id": 70,
      "title": "SQL Memory",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The current amount of allocated SQL memory. This amount is compared against the node's --max-sql-memory flag.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "allocated bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sql_mem_root_current{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "SQL Memory-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 285
      },
      "id": 71,
      "title": "Schema Changes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of DDL statements per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "statements",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_ddl_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "DDL Statements",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 285
      },
      "id": 72,
      "title": "Table Statistics Collections",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Details about table statistics collections.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "jobs",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_auto_create_stats_currently_running{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Auto Running",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_auto_create_partial_stats_currently_running{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Auto Partial Running",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_create_stats_currently_running{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Manual Running",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_auto_create_stats_currently_paused{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Auto Paused",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_auto_create_partial_stats_currently_paused{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Auto Partial Paused",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(jobs_auto_create_stats_resume_failed{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Auto Failed",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(jobs_auto_create_partial_stats_resume_failed{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Auto Partial Failed",
          "range": true,
          "refId": "7"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 293
      },
      "id": 73,
      "title": "Statement Denials: Cluster Settings",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of statements denied.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "statements",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_feature_flag_denial{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Statements Denied",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 293
      },
      "id": 74,
      "title": "Distributed Query Error Reruns",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of times the distributed query errors were rerun as local.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_distsql_dist_query_rerun_locally_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Reruns",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(sql_distsql_dist_query_rerun_locally_failure_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Failures",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 301
      },
      "id": 75,
      "title": "Storage",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 302
      },
      "id": 76,
      "title": "Capacity",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Disk capacity metrics",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "capacity",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Max",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity_available{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Available",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(capacity_used{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Used",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 310
      },
      "id": 77,
      "title": "Live Bytes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Number of bytes of live data",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "live bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(livebytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Live",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sysbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "System",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 310
      },
      "id": 78,
      "title": "WAL Fsync Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The latency for fsyncs to the storage engine's write-ahead log.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.999, rate(storage_wal_fsync_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p99.9-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.9999, rate(storage_wal_fsync_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p99.99-s$store",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(1, rate(storage_wal_fsync_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p100-s$store",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 318
      },
      "id": 79,
      "title": "Log Commit Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The latency for commits to the Raft Log. This is typically dominated by the latency of an fdatasync to the storage engine's write-ahead log.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.999, rate(raft_process_logcommit_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p99.9-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(raft_process_logcommit_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p99-s$store",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.50, rate(raft_process_logcommit_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p50-s$store",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 318
      },
      "id": 80,
      "title": "Command Commit Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The latency for commits of Raft commands. This measures applying a batch to the storage engine (including writes to the write-ahead log), but no fsync.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(raft_process_commandcommit_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p99-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.50, rate(raft_process_commandcommit_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "p50-s$store",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 326
      },
      "id": 81,
      "title": "Compaction Duration",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The cumulative time spent performing compactions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(storage_compactions_duration{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Compaction Duration-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 326
      },
      "id": 82,
      "title": "Level Compaction Scores",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The compaction score for each level of the LSM tree. The storage engine prioritizes compactions out of levels with higher scores.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "score",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l0_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L0-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l1_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L1-s$store",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l2_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L2-s$store",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l3_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L3-s$store",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l4_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L4-s$store",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l5_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L5-s$store",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l6_level_score{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L6-s$store",
          "range": true,
          "refId": "7"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 334
      },
      "id": 83,
      "title": "Read Amplification",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The average number of real read operations executed per logical read operation.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "factor",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rocksdb_read_amplification{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Read Amplification",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 334
      },
      "id": 84,
      "title": "File Counts",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of files in use by type.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "files",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rocksdb_num_sstables{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "sstables-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_value_separation_blob_files_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "blob files-s$store",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 342
      },
      "id": 85,
      "title": "L0 SSTable Count",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of L0 SSTables in use for each store.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "sstables",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l0_num_files{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L0 SSTable Count-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 342
      },
      "id": 86,
      "title": "L0 SSTable Size",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The size of all L0 SSTables in use for each store.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Size",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l0_level_size{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L0 SSTable Size-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 350
      },
      "id": 87,
      "title": "Flushes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Bytes written by memtable flushes.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "written bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(rocksdb_flushed_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Flushes-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 350
      },
      "id": 88,
      "title": "WAL Bytes Written",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Bytes written to WAL files.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "written bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(storage_wal_bytes_written{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "WAL Bytes Written-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 358
      },
      "id": 89,
      "title": "Compactions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Bytes written by compactions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "written bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(rocksdb_compacted_bytes_written{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Compactions-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 358
      },
      "id": 90,
      "title": "Ingestions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Bytes written by sstable ingestions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "written bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(rocksdb_ingested_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Ingestions-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 366
      },
      "id": 91,
      "title": "Write Stalls",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of intentional write stalls per second. Write stalls are used to backpressure incoming writes during periods of heavy write traffic.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(storage_write_stalls{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Write Stalls",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 366
      },
      "id": 92,
      "title": "Store Disk Write Bytes/s",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of bytes written to the store's disk per second (as reported by the OS).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(storage_disk_write_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Disk Write-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 374
      },
      "id": 93,
      "title": "Store Disk Read Bytes/s",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of bytes read from the store's disk per second (as reported by the OS).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(storage_disk_read_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Disk Read-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 374
      },
      "id": 94,
      "title": "File Descriptors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of open file descriptors, compared with the file descriptor limit.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "descriptors",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_fd_open{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Open",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_fd_softlimit{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Limit",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 382
      },
      "id": 95,
      "title": "Time Series Writes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of successfully written time series samples, and number of errors attempting to write time series, per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(timeseries_write_samples{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Samples Written",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(timeseries_write_errors{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Errors",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 382
      },
      "id": 96,
      "title": "Time Series Bytes Written",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of bytes written by the time series system per second. Note that this does not reflect the rate at which disk space is consumed by time series; the data is highly compressed on disk.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(timeseries_write_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Bytes Written",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 390
      },
      "id": 97,
      "title": "Replication",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 391
      },
      "id": 98,
      "title": "Ranges",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Various details about the status of ranges.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "ranges",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(ranges{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Ranges",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_leaders{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Leaders",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_leaseholders{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Lease Holders",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_leaders_not_leaseholders{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Leaders w/o Lease",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(ranges_unavailable{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Unavailable",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(ranges_underreplicated{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Under-replicated",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(ranges_overreplicated{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Over-replicated",
          "range": true,
          "refId": "7"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 399
      },
      "id": 99,
      "title": "Replicas per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of replicas on each node.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replicas",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 399
      },
      "id": 100,
      "title": "Leaseholders per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of leaseholder replicas on each node. A leaseholder replica is the one that receives and coordinates all read and write requests for its range.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "leaseholders",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_leaseholders{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Leaseholders-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 407
      },
      "id": 101,
      "title": "Lease Types",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Details about the types of leases in use by ranges in the system.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "leases",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(leases_expiration{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Expiration Leases",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(leases_epoch{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Epoch Leases",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(leases_leader{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Leader Leases",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 407
      },
      "id": 102,
      "title": "Lease Preferences",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Details about the conformance of range lease preferences.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "ranges",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(leases_preferences_violating{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Lease Preferences Violating",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(leases_preferences_less_preferred{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Lease Preferences Less Preferred",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 415
      },
      "id": 103,
      "title": "Average Replica Queries per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Moving average of the number of KV batch requests processed by leaseholder replicas on each node per second. Used for load-based rebalancing decisions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "queries",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rebalancing_queriespersecond{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Queries Per Second-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 415
      },
      "id": 104,
      "title": "Average Replica CPU per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Moving average of all replica CPU usage on each node per second. Used for load-based rebalancing decisions.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "CPU time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rebalancing_cpunanospersecond{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "CPU Time-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 423
      },
      "id": 105,
      "title": "Logical Bytes per Node",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Logical bytes per node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "logical store size",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(totalbytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Logical Bytes-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 423
      },
      "id": 106,
      "title": "Replica Quiescence",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replicas",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_quiescent{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Epoch Lease Quiescent",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_asleep{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Leader Lease Quiescent",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 431
      },
      "id": 107,
      "title": "Range Operations",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "ranges",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_splits{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Splits",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_merges{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Merges",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_adds{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Adds",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_removes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Removes",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(leases_transfers_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Lease Transfers",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(rebalancing_lease_transfers{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Load-based Lease Transfers",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(rebalancing_range_rebalances{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Load-based Range Rebalances",
          "range": true,
          "refId": "7"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 431
      },
      "id": 108,
      "title": "Snapshots",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "snapshots",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_generated{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Generated",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_applied_voter{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Applied (Voters)",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_applied_initial{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Applied (Initial Upreplication)",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_applied_non_voter{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Applied (Non-Voters)",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(replicas_reserved{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Reserved",
          "range": true,
          "refId": "5"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 439
      },
      "id": 109,
      "title": "Snapshot Data Received",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_rebalancing_rcvd_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Rebalancing-s$store",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_recovery_rcvd_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Recovery-s$store",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(range_snapshots_upreplication_rcvd_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Upreplication-s$store",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 439
      },
      "id": 110,
      "title": "Receiver Snapshots Queued",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "snapshots",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(range_snapshots_recv_queue{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Receiver Snapshots Queued-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 447
      },
      "id": 111,
      "title": "Circuit Breaker Tripped Replicas",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(kv_replica_circuit_breaker_num_tripped_replicas{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Circuit Breaker Tripped Replicas-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 447
      },
      "id": 112,
      "title": "Replicate Queue Actions: Successes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_addreplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Added / Sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removereplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Removed / Sec",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_replacedeadreplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Dead Replicas Replaced / Sec",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removedeadreplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Dead Replicas Removed / Sec",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_replacedecommissioningreplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Decommissioning Replicas Replaced / Sec",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removedecommissioningreplica_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Decommissioning Replicas Removed / Sec",
          "range": true,
          "refId": "6"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 455
      },
      "id": 113,
      "title": "Replicate Queue Actions: Failures",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "replicas",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_addreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Added Errors / Sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removereplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Removed Errors / Sec",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_replacedeadreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Dead Replicas Replaced Errors / Sec",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removedeadreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Dead Replicas Removed Errors / Sec",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_replacedecommissioningreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Decommissioning Replicas Replaced Errors / Sec",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removedecommissioningreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Decommissioning Replicas Removed Errors / Sec",
          "range": true,
          "refId": "6"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 455
      },
      "id": 114,
      "title": "Decommissioning Errors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Replaced Errors / Sec",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_replacedecommissioningreplica_error{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replaced Errors / Sec-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 463
      },
      "id": 115,
      "title": "Distributed",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 464
      },
      "id": 116,
      "title": "Batches",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "batches",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_batches{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Batches",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_batches_partial{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Partial Batches",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 472
      },
      "id": 117,
      "title": "RPCs",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "rpcs",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_sent{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "RPCs Sent",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_sent_local{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Local Fast-path",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 472
      },
      "id": 118,
      "title": "RPC Errors",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "errors",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(distsender_rpc_sent_sendnexttimeout{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "RPC Timeouts",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_rpc_sent_nextreplicaerror{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replica Errors",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(distsender_errors_notleaseholder{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Not Leaseholder Errors",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 480
      },
      "id": 119,
      "title": "KV Transactions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transactions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_commits{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Committed",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_commits1PC{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Fast-path Committed",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(txn_aborts{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Aborted",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 480
      },
      "id": 120,
      "title": "KV Transaction Durations: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile of transaction durations over a 1 minute period.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transaction duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(txn_durations_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV Transaction Duration p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 488
      },
      "id": 121,
      "title": "KV Transaction Durations: 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 90th percentile of transaction durations over a 1 minute period.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "transaction duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(txn_durations_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV Transaction Duration p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 488
      },
      "id": 122,
      "title": "Node Heartbeat Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile of latency to heartbeat a node's internal liveness record over a 1 minute period.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "heartbeat latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(liveness_heartbeatlatency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Heartbeat Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 496
      },
      "id": 123,
      "title": "Node Heartbeat Latency: 90th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 90th percentile of latency to heartbeat a node's internal liveness record over a 1 minute period.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "heartbeat latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(liveness_heartbeatlatency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Heartbeat Latency p90-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 504
      },
      "id": 124,
      "title": "Queues",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 505
      },
      "id": 125,
      "title": "Queue Processing Failures",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "failures",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_gc_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "GC",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicagc_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replica GC",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replication",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_lease_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Lease",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_split_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Split",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_merge_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Merge",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_consistency_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Consistency",
          "range": true,
          "refId": "7"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftlog_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Raft Log",
          "range": true,
          "refId": "8"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftsnapshot_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Raft Snapshot",
          "range": true,
          "refId": "9"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_tsmaintenance_process_failure{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Time Series Maintenance",
          "range": true,
          "refId": "10"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 505
      },
      "id": 126,
      "title": "Queue Processing Times",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "processing time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_gc_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "GC",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicagc_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replica GC",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replication",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_lease_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Lease",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_split_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Split",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_merge_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Merge",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_consistency_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Consistency",
          "range": true,
          "refId": "7"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftlog_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Raft Log",
          "range": true,
          "refId": "8"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftsnapshot_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Raft Snapshot",
          "range": true,
          "refId": "9"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_tsmaintenance_processingnanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Time Series Maintenance",
          "range": true,
          "refId": "10"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 513
      },
      "id": 127,
      "title": "Replica GC Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicagc_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_replicagc_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicagc_removereplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Removed / sec",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 513
      },
      "id": 128,
      "title": "Replication Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_replicate_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_addreplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Added / sec",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removereplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Removed / sec",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removedeadreplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Dead Replicas Removed / sec",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_removelearnerreplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Learner Replicas Removed / sec",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_rebalancereplica{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Replicas Rebalanced / sec",
          "range": true,
          "refId": "7"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_replicate_transferlease{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Leases Transferred / sec",
          "range": true,
          "refId": "8"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_replicate_purgatory{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replicas in Purgatory",
          "range": true,
          "refId": "9"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 521
      },
      "id": 129,
      "title": "Lease Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_lease_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_lease_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_lease_purgatory{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replicas in  Purgatory",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 521
      },
      "id": 130,
      "title": "Split Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_split_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_split_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 529
      },
      "id": 131,
      "title": "Merge Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_merge_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_merge_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 529
      },
      "id": 132,
      "title": "Raft Log Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftlog_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_raftlog_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 537
      },
      "id": 133,
      "title": "Raft Snapshot Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_raftsnapshot_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_raftsnapshot_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 537
      },
      "id": 134,
      "title": "Consistency Checker Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The Consistency Checker Queue periodically checks that all replicas in a given range are consistent. For large clusters, the queue is always expected to have a pending backlog.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_consistency_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_consistency_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 545
      },
      "id": 135,
      "title": "Time Series Maintenance Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_tsmaintenance_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_tsmaintenance_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 545
      },
      "id": 136,
      "title": "MVCC GC Queue",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(queue_gc_process_success{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Successful Actions / sec",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(queue_gc_pending{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Pending Actions",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 553
      },
      "id": 137,
      "title": "Protected Timestamp Records",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Number of protected timestamp records (used by backups, changefeeds, etc. to prevent MVCC GC)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Records",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(spanconfig_kvsubscriber_protected_record_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Protected Timestamp Records-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 561
      },
      "id": 138,
      "title": "Slow Requests",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 562
      },
      "id": 139,
      "title": "Slow Raft Proposals",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "proposals",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(requests_slow_raft{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Slow Raft Proposals",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 562
      },
      "id": 140,
      "title": "Slow DistSender RPCs",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "proposals",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(requests_slow_distsender{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Slow DistSender RPCs",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 570
      },
      "id": 141,
      "title": "Slow Lease Acquisitions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "lease acquisitions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(requests_slow_lease{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Slow Lease Acquisitions",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 570
      },
      "id": 142,
      "title": "Slow Latch Acquisitions",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latch acquisitions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(requests_slow_latch{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Slow Latch Acquisitions",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 578
      },
      "id": 143,
      "title": "Changefeeds",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 579
      },
      "id": 144,
      "title": "Changefeed Status",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_changefeed_currently_running{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Running",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_changefeed_currently_paused{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Paused",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(jobs_changefeed_resume_failed{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Failed",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 587
      },
      "id": 145,
      "title": "Commit Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The difference between an event's MVCC timestamp and the time it was acknowledged as received by the downstream sink.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_commit_latency{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "99th Percentile",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_commit_latency{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "90th Percentile",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_commit_latency{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "50th Percentile",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 587
      },
      "id": 146,
      "title": "Emitted Bytes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_emitted_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Emitted Bytes",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 595
      },
      "id": 147,
      "title": "Sink Counts",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_emitted_messages{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Messages",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_flushes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Flushes",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 595
      },
      "id": 148,
      "title": "Max Checkpoint Lag",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The most any changefeed's persisted checkpoint is behind the present. Larger values indicate issues with successfully ingesting or emitting changes.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_max_behind_nanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Max Checkpoint Latency",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 603
      },
      "id": 149,
      "title": "Changefeed Restarts",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The rate of transient non-fatal errors, such as temporary connectivity issues or a rolling upgrade.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "actions",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_error_retries{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Retryable Errors",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 603
      },
      "id": 150,
      "title": "Oldest Protected Timestamp",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The oldest data that any changefeed is protecting from being able to be automatically garbage collected.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_changefeed_protected_age_sec{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Protected Timestamp Age",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 611
      },
      "id": 151,
      "title": "Backfill Pending Ranges",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of ranges being backfilled (ex: due to an initial scan or schema change) that are yet to completely enter the Changefeed pipeline.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_backfill_pending_ranges{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Backfill Pending Ranges",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 611
      },
      "id": 152,
      "title": "Schema Registry Registrations",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The rate of schema registration requests made by CockroachDB nodes to a configured schema registry endpoint.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "action",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(changefeed_schema_registry_registrations{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Schema Registry Registrations",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 619
      },
      "id": 153,
      "title": "Ranges in catchup mode",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Total number of ranges with an active rangefeed that are performing catchup scan",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "ranges",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(distsender_rangefeed_catchup_ranges{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Ranges-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 619
      },
      "id": 154,
      "title": "RangeFeed catchup scans duration",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(kv_rangefeed_catchup_scan_nanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Catchup Scan Duration-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 627
      },
      "id": 155,
      "title": "Overload",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 628
      },
      "id": 156,
      "title": "CPU Utilization",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "CPU utilization of the CockroachDB process as measured by the host, displayed per node.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "CPU Utilization",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_cpu_combined_percent_normalized{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "CPU Utilization-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 636
      },
      "id": 157,
      "title": "KV Admission CPU Slots Exhausted Duration Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Relative time the node had exhausted slots for foreground (regular) CPU work per second of wall time, measured in microseconds/second. Increased slot exhausted duration indicates CPU resource exhaustion.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Duration (micros/sec)",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(admission_granter_slots_exhausted_duration_kv{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV Admission CPU Slots Exhausted-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 636
      },
      "id": 158,
      "title": "Admission Foreground IO Tokens Exhausted Duration Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Relative time the store had exhausted foreground (regular) IO tokens for all IO-bound work per second of wall time, measured in microseconds/second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Duration (micros/sec)",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(admission_granter_io_tokens_exhausted_duration_kv{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Foreground IO Tokens Exhausted-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 644
      },
      "id": 159,
      "title": "Admission Background IO Tokens Exhausted Duration Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Relative time the store had exhausted background (elastic) IO tokens for all IO-bound work per second of wall time, measured in microseconds/second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Duration (micros/sec)",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(admission_granter_elastic_io_tokens_exhausted_duration_kv{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Background IO Tokens Exhausted-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 644
      },
      "id": 160,
      "title": "IO Overload",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "A derived score based on Admission Control's view of the store. Admission Control attempts to maintain a score of 0.5.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Score",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(admission_io_overload{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "IO Overload Score-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 652
      },
      "id": 161,
      "title": "Elastic CPU Tokens Exhausted Duration Per Second",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Relative time the node had exhausted tokens for background (elastic) CPU work per second of wall time, measured in microseconds/second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Duration (micros/sec)",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(admission_elastic_cpu_nanos_exhausted_duration{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Elastic CPU Tokens Exhausted-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 652
      },
      "id": 162,
      "title": "Admission Queueing Delay p99  Foreground (Regular) CPU",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile latency of requests waiting in the various Admission Control CPU queues.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Delay Duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_kv_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV-n$node",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_sql_kv_response_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "SQL-KV-n$node",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_sql_sql_response_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "SQL-SQL-n$node",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 660
      },
      "id": 163,
      "title": "Admission Queueing Delay p99  Foreground (Regular) Store",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile latency of requests waiting in the foreground (regular) Admission Control store queue.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Write Delay Duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_kv_stores_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "KV-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 660
      },
      "id": 164,
      "title": "Admission Queueing Delay p99  Background (Elastic) Store",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile latency of requests waiting in the background (elastic) Admission Control store queue.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Write Delay Duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_elastic_stores_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "elastic-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 668
      },
      "id": 165,
      "title": "Admission Queueing Delay p99  Background (Elastic) CPU",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile latency of requests waiting in the Admission Control elastic CPU queue.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Delay Duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(admission_wait_durations_elastic_cpu_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Elastic CPU-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 668
      },
      "id": 166,
      "title": "Admission Queueing Delay p99  Replication Admission Control",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile latency of requests waiting in the Replication Admission Control queue. This metric is indicative of store overload on replicas.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Flow Token Wait Duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(kvflowcontrol_eval_wait_regular_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Regular-n$node",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(kvflowcontrol_eval_wait_elastic_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Elastic-n$node",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 676
      },
      "id": 167,
      "title": "Blocked Replication Streams",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Blocked replication streams per node in Replication Admission Control, separated by admission priority.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Blocked Stream Count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(kvflowcontrol_streams_eval_regular_blocked_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Regular-n$node",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(kvflowcontrol_streams_eval_elastic_blocked_count{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Elastic-n$node",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 676
      },
      "id": 168,
      "title": "Replication Stream Send Queue Size",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Queued bytes to be sent across all replication streams on a node in Replication Admission Control.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Size",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(kvflowcontrol_send_queue_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Send Queue Size-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 684
      },
      "id": 169,
      "title": "Elastic CPU Utilization",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "CPU utilization by elastic work, compared to the limit set for elastic work.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "CPU Utilization",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(admission_elastic_cpu_utilization{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Utilization-n$node",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(admission_elastic_cpu_utilization_limit{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Utilization Limit-n$node",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 684
      },
      "id": 170,
      "title": "Goroutine Scheduling Latency: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "P99 scheduling latency for goroutines. A value above 1ms here indicates high load that causes background (elastic) CPU work to be throttled.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(go_scheduler_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Scheduling Latency p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 692
      },
      "id": 171,
      "title": "Goroutine Scheduling Latency: 99.9th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "P99.9 scheduling latency for goroutines. A high value here can be indicative of high tail latency in various queries.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.999, rate(go_scheduler_latency_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Scheduling Latency p99.9-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 692
      },
      "id": 172,
      "title": "Runnable Goroutines per CPU",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of Goroutines waiting per CPU. A value above the value set in admission.kv_slot_adjuster.overload_threshold is used by admission control to throttle regular CPU work.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "goroutines",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(sys_runnable_goroutines_per_cpu{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Runnable Goroutines per CPU-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 700
      },
      "id": 173,
      "title": "LSM L0 Sublevels",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Number of sublevels in L0 of the LSM. A sustained value above 10 typically indicates that the store is overloaded.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "Count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(storage_l0_sublevels{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "L0 Sublevels-s$store",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 708
      },
      "id": 174,
      "title": "TTL",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 709
      },
      "id": 175,
      "title": "Processing Rate",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "rows per second",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(jobs_row_level_ttl_rows_selected{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "rows selected",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(jobs_row_level_ttl_rows_deleted{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "rows deleted",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 709
      },
      "id": 176,
      "title": "Estimated Rows",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "row count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_row_level_ttl_total_rows{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "approximate number of rows",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_row_level_ttl_total_expired_rows{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "approximate number of expired rows",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 717
      },
      "id": 177,
      "title": "Job Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Latency of scanning and deleting within the job.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.50, rate(jobs_row_level_ttl_select_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "scan latency (p50)",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.50, rate(jobs_row_level_ttl_delete_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "delete latency (p50)",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.75, rate(jobs_row_level_ttl_select_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "scan latency (p75)",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.75, rate(jobs_row_level_ttl_delete_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "delete latency (p75)",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(jobs_row_level_ttl_select_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "scan latency (p90)",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.90, rate(jobs_row_level_ttl_delete_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "delete latency (p90)",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(jobs_row_level_ttl_select_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "scan latency (p99)",
          "range": true,
          "refId": "7"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99, rate(jobs_row_level_ttl_delete_duration_bucket{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "delete latency (p99)",
          "range": true,
          "refId": "8"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 717
      },
      "id": 178,
      "title": "Spans in Progress",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Number of active spans being processed by TTL.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "span count",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(jobs_row_level_ttl_num_active_spans{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "number of spans being processed",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 725
      },
      "id": 179,
      "title": "Cross Cluster Replication",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 726
      },
      "id": 180,
      "title": "Replication Lag",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Replication lag between primary and standby cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(physical_replication_replicated_time_seconds{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replication Lag",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 734
      },
      "id": 181,
      "title": "Logical Bytes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Rate at which the logical bytes (sum of keys + values) are ingested by all replication jobs",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(physical_replication_logical_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Logical Bytes",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 742
      },
      "id": 182,
      "title": "Logical Data Replication",
      "type": "row"
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 743
      },
      "id": 183,
      "title": "Replication Latency",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The difference in commit times between the source cluster and the destination cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "latency",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_commit_latency{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "p50",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_commit_latency{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "p99",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 743
      },
      "id": 184,
      "title": "Replication Lag",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The age of the oldest row on the source cluster that has yet to replicate to destination cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "duration",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_replicated_time_seconds{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Replication Lag",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 751
      },
      "id": 185,
      "title": "Row Updates Applied",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Rate at which row updates are applied by all logical replication jobs",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "updates",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_events_ingested{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Row Updates Applied",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_events_dlqed{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Row Updates sent to DLQ",
          "range": true,
          "refId": "2"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 751
      },
      "id": 186,
      "title": "Logical Bytes Received",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Rate at which the logical bytes (sum of keys + values) are received by all logical replication jobs",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_logical_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Logical Bytes-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 759
      },
      "id": 187,
      "title": "Row Application Processing Time: 50th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 50th percentile in the time it takes to write a batch of row updates",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "processing time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_batch_hist_nanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Processing Time p50-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 759
      },
      "id": 188,
      "title": "Row Application Processing Time: 99th percentile",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 99th percentile in the time it takes to write a batch of row updates",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "processing time",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_batch_hist_nanos{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Processing Time p99-n$node",
          "range": true,
          "refId": "1"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 767
      },
      "id": 189,
      "title": "DLQ Causes",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Reasons events were sent to the DLQ",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "updates",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_events_dlqed_age{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Retry Duration Expired",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_events_dlqed_space{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Retry Queue Full",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_events_dlqed_errtype{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Non-retryable",
          "range": true,
          "refId": "3"
        }
      ]
    },
    {
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 767
      },
      "id": 190,
      "title": "Retry Queue Size",
      "type": "timeseries",
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Total size of the retry queues across all processors in all LDR jobs",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "Axis": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "bytes",
              "axisPlacement": "auto"
            },
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "options": {
        "alertThreshold": true,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.1",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(logical_replication_retry_queue_bytes{job=\"cockroachdb\",cluster=~\"$cluster\",node_id=~\"$node|.*\",store=~\"$store|.*\"})",
          "interval": "",
          "legendFormat": "Retry Queue Size",
          "range": true,
          "refId": "1"
        }
      ]
    }
  ],
  "refresh": "30s",
  "schemaVersion": 42,
  "tags": [],
  "templating": {
    "list": [
      {
        "includeAll": false,
        "label": "datasource",
        "name": "DS_PROMETHEUS",
        "query": "prometheus",
        "refresh": 1,
        "type": "datasource"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "sys_uptime{job=\"cockroachdb\"}",
        "includeAll": false,
        "label": "Cluster",
        "name": "cluster",
        "query": {
          "query": "sys_uptime{job=\"cockroachdb\"}",
          "refId": "Prometheus-cluster-Variable-Query"
        },
        "refresh": 1,
        "regex": "/cluster=\"([^\"]+)\"/",
        "sort": 1,
        "type": "query"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(sys_uptime{job=\"cockroachdb\", cluster=\"$cluster\"},node_id)",
        "includeAll": true,
        "label": "node",
        "name": "node",
        "query": {
          "qryType": 1,
          "query": "label_values(sys_uptime{job=\"cockroachdb\", cluster=\"$cluster\"},node_id)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "sort": 1,
        "type": "query"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(replicas{job=\"cockroachdb\", cluster=\"$cluster\"},store)",
        "includeAll": true,
        "label": "store",
        "name": "store",
        "query": {
          "qryType": 1,
          "query": "label_values(replicas{job=\"cockroachdb\", cluster=\"$cluster\"},store)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "CockroachDB Dashboard",
  "uid": "crdb-console",
  "version": 12,
  "id": null
}
