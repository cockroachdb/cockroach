doctor zipdir --dump-sql
----
debug doctor zipdir testdata/doctor/debugzip --dump-sql
BEGIN;
SELECT 1/(1-sign(count(*))) FROM system.descriptor WHERE id >= 52;
SELECT crdb_internal.unsafe_delete_descriptor(id, true) FROM system.descriptor WHERE id >= 50;
SELECT crdb_internal.unsafe_delete_namespace_entry("parentID", "parentSchemaID", name, id) FROM system.namespace2 WHERE id >= 50;
COMMIT;
BEGIN;
SELECT crdb_internal.unsafe_upsert_descriptor(50, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(0, 0, 'defaultdb', 50, true);
SELECT crdb_internal.unsafe_upsert_descriptor(51, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(0, 0, 'postgres', 51, true);
SELECT crdb_internal.unsafe_upsert_descriptor(53, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'users', 53, true);
SELECT crdb_internal.unsafe_upsert_descriptor(54, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'vehicles', 54, true);
SELECT crdb_internal.unsafe_upsert_descriptor(55, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'rides', 55, true);
SELECT crdb_internal.unsafe_upsert_descriptor(56, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'vehicle_location_histories', 56, true);
SELECT crdb_internal.unsafe_upsert_descriptor(57, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'promo_codes', 57, true);
SELECT crdb_internal.unsafe_upsert_descriptor(58, decode('', 'hex'), true);
SELECT crdb_internal.unsafe_upsert_namespace_entry(52, 29, 'user_promo_codes', 58, true);
COMMIT;
