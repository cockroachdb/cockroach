# Basic smoke tests for ltree evaluation

# Tests for ltree[] ?@> ltree and ltree[] ?<@ ltree

eval
ARRAY['A.B.C', 'X.Y.Z']::LTREE[] ?@> 'A.B'
----
NULL

eval
ARRAY['no', 'no', 'A.B', 'A']::LTREE[] ?@> 'A.B'
----
'A.B'

eval
ARRAY['', 'A']::LTREE[] ?@> 'A.B'
----
''

eval
ARRAY[]::LTREE[] ?@> ''
----
NULL

eval
ARRAY['']::LTREE[] ?@> ''
----
''

eval
ARRAY['A.B.C', NULL]::LTREE[] ?@> 'A.B'
----


eval
ARRAY['A', 'A.B', 'A.B.C']::LTREE[] ?@> ''
----
NULL

eval
ARRAY['', 'A', 'A.B']::LTREE[] ?<@ 'A.B.C'
----
NULL

eval
ARRAY['no', 'no', '', 'A', 'A.B.C', 'A.B.C.D']::LTREE[] ?<@ 'A.B'
----
'A.B.C'

eval
ARRAY[]::LTREE[] ?<@ ''
----
NULL

eval
ARRAY['']::LTREE[] ?<@ ''
----
''

eval
ARRAY['A', 'A.B', 'A.B.C']::LTREE[] ?<@ ''
----
'A'

# Tests for ltree[] @> ltree

eval
ARRAY['A', 'A.B']::LTREE[] @> 'A.B.C'
----
true

eval
ARRAY['X.Y', 'Z', 'A.B.C']::LTREE[] @> 'A.B'
----
false

# Tests for ltree[] <@ ltree

eval
ARRAY['A.B', 'A.C']::LTREE[] <@ 'A'
----
true

eval
ARRAY['', 'A', 'X.Y']::LTREE[] <@ 'A.B'
----
false

# Tests for ltree @> ltree[]

eval
'A'::LTREE @> ARRAY['A.B', 'A.B.C']::LTREE[]
----
true

eval
'A.B'::LTREE @> ARRAY['A', '', 'X.Y.Z']::LTREE[]
----
false

# Tests for ltree <@ ltree[]

eval
'A.B'::LTREE <@ ARRAY['A', 'X']::LTREE[]
----
true

eval
''::LTREE <@ ARRAY['A', 'B']::LTREE[]
----
false

# Tests for ltree @> ltree

eval
'A.B'::LTREE @> 'A.B.C'
----
true

eval
'A.B.C'::LTREE @> 'A.B'
----
false

eval
''::LTREE @> 'any'
----
true

eval
'any'::LTREE @> ''
----
false

eval
''::LTREE @> ''
----
true

# Tests for ltree <@ ltree

eval
'A.B.C'::LTREE <@ 'A.B'
----
true

eval
'A.B'::LTREE <@ 'A.B.C'
----
false

eval
''::LTREE <@ 'any'
----
false

eval
'any'::LTREE <@ ''
----
true

eval
''::LTREE <@ ''
----
true

# Tests for ltree || ltree

eval
'A.B'::LTREE || 'C.D'
----
'A.B.C.D'

eval
''::LTREE || 'A.B'
----
'A.B'

eval
'A.B'::LTREE || ''
----
'A.B'

eval
''::LTREE || ''
----
''
