# Smoke test.
inspect
select
----
input: "select"
0  6     SELECT  IDENT  "select"  selecâ€¦
6  6     EOF     EOF    "EOF"     ðŸ›‡

# Keyword followed by space.
# Verify that the end position is below the space.
inspect
select   ðŸ›‡
----
input: "select   ðŸ›‡"
0  6     SELECT  IDENT  "select"  selecâ€¦
9  9     EOF     EOF    "EOF"     ðŸ›‡

# Keywords. Verify the start positions skip the space.
inspect
select    select
----
input: "select    select"
0   6      SELECT  IDENT  "select"  selecâ€¦
10  16     SELECT  IDENT  "select"  selecâ€¦
16  16     EOF     EOF    "EOF"     ðŸ›‡

# Identifier.
inspect
unrecognized select
----
input: "unrecognized select"
0   12     IDENT   IDENT  "unrecognized"  unrecâ€¦
13  19     SELECT  IDENT  "select"        selecâ€¦
19  19     EOF     EOF    "EOF"           ðŸ›‡

# Quoted identifier.
inspect
"hello "" world
and universe" select
----
input: "\"hello \"\" world\nand universe\" select"
0   30  q  IDENT   IDENT  "hello \" world\nand universe"  "hellâ€¦
30  36     SELECT  IDENT  "select"                        selecâ€¦
36  36     EOF     EOF    "EOF"                           ðŸ›‡

# Quoted identifer separated by a newline.
inspect
"hello"
"world"
----
input: "\"hello\"\n\"world\""
0   8   q  IDENT  IDENT  "hello"  "hellâ€¦
8   15  q  IDENT  IDENT  "world"  "worlâ€¦
15  15     EOF    EOF    "EOF"    ðŸ›‡


# Single-quoted string separated by a newline.
inspect
'hello'
'world'
----
input: "'hello'\n'world'"
0   15     SCONST  SCONST  "helloworld"  'hellâ€¦
15  15     EOF     EOF     "EOF"         ðŸ›‡


# Incomplete identifier.
inspect
"incomplete
----
input: "\"incomplete"
0   11  q  ERROR  IDENT  "incomplete"  "incoâ€¦
11  11     EOF    EOF    "EOF"         ðŸ›‡

# Incomplete quoted identifier containing
# double quote character. We verify that
# the identifier gets unescaped.
inspect
"incomplete "" world
----
input: "\"incomplete \"\" world"
0   20  q  ERROR  IDENT  "incomplete \" world"  "incoâ€¦
20  20     EOF    EOF    "EOF"                  ðŸ›‡

# Incomplete identifier ending in space.
# We verify the trailing spaces are preserved.
inspect
"incomplete   ðŸ›‡
----
input: "\"incomplete   ðŸ›‡"
0   14  q  ERROR  IDENT  "incomplete   "  "incoâ€¦
14  14     EOF    EOF    "EOF"            ðŸ›‡


# Literal string.
inspect
select 'hello' select
----
input: "select 'hello' select"
0   6      SELECT  IDENT   "select"  selecâ€¦
7   15     SCONST  SCONST  "hello"   'hellâ€¦
15  21     SELECT  IDENT   "select"  selecâ€¦
21  21     EOF     EOF     "EOF"     ðŸ›‡

# Incomplete literal string.
inspect
select 'hello select
----
input: "select 'hello select"
0  6      SELECT  IDENT   "select"               selecâ€¦
7  20     ERROR   SCONST  "unterminated string"  'hellâ€¦

# Composite name.
inspect
select a.b.c
----
input: "select a.b.c"
0   6      SELECT  IDENT  "select"  selecâ€¦
7   8      IDENT   IDENT  "a"       a
8   9      46      46     "."       .
9   10     IDENT   IDENT  "b"       b
10  11     46      46     "."       .
11  12     IDENT   IDENT  "c"       c
12  12     EOF     EOF    "EOF"     ðŸ›‡

# Composite name with quotes.
inspect
select "a.b".c
----
input: "select \"a.b\".c"
0   6      SELECT  IDENT  "select"  selecâ€¦
7   12  q  IDENT   IDENT  "a.b"     "a.b"
12  13     46      46     "."       .
13  14     IDENT   IDENT  "c"       c
14  14     EOF     EOF    "EOF"     ðŸ›‡

# Composite name with unterminated identifier.
inspect
select a."b
----
input: "select a.\"b"
0   6      SELECT  IDENT  "select"  selecâ€¦
7   8      IDENT   IDENT  "a"       a
8   9      46      46     "."       .
9   11  q  ERROR   IDENT  "b"       "b
11  11     EOF     EOF    "EOF"     ðŸ›‡

# Unterminated number.
inspect
select 3.2e
----
input: "select 3.2e"
0  6      SELECT  IDENT   "select"                          selecâ€¦
7  11     ERROR   ICONST  "invalid floating point literal"  3.2e
