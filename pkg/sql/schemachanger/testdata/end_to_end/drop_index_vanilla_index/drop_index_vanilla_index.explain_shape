/* setup */
CREATE TABLE t (i INT PRIMARY KEY, j INT);
CREATE INDEX idx ON t(j);
CREATE FUNCTION f_trigger() RETURNS TRIGGER LANGUAGE PLpgSQL AS $$
BEGIN
  SELECT j FROM t@idx WHERE j = 1;
  RETURN NULL;
END;
$$;
CREATE TRIGGER trg AFTER INSERT ON t FOR EACH ROW EXECUTE FUNCTION f_trigger();

/* test */
EXPLAIN (DDL, SHAPE) DROP INDEX idx CASCADE;
----
Schema change plan for DROP INDEX ‹defaultdb›.‹public›.‹t›@‹idx› CASCADE;
 └── execute 4 system table mutations transactions
