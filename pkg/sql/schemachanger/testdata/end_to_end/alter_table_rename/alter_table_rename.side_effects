/* setup */
CREATE TABLE t1 (id INT PRIMARY KEY, data TEXT, expired_at TIMESTAMPTZ) WITH (ttl_expiration_expression='expired_at');
----
...
+object {100 101 t1} -> 104

/* test */
ALTER TABLE t1 RENAME TO t1_renamed;
----
begin transaction #1
# begin StatementPhase
checking for feature: ALTER TABLE
write *eventpb.RenameTable to event log:
  newTableName: defaultdb.public.t1_renamed
  sql:
    descriptorId: 104
    statement: ALTER TABLE ‹t1› RENAME TO ‹t1_renamed›
    tag: ALTER TABLE
    user: root
  tableName: defaultdb.public.t1
## StatementPhase stage 1 of 1 with 3 MutationType ops
delete object namespace entry {100 101 t1} -> 104
add object namespace entry {100 101 t1_renamed} -> 104
upsert descriptor #104
  ...
     id: 104
     modificationTime: {}
  -  name: t1
  +  name: t1_renamed
     nextColumnId: 4
     nextConstraintId: 2
  ...
     schemaLocked: true
     unexposedParentSchemaId: 101
  -  version: "1"
  +  version: "2"
# end StatementPhase
# begin PreCommitPhase
## PreCommitPhase stage 1 of 2 with 1 MutationType op
undo all catalog changes within txn #1
persist all catalog changes to storage
## PreCommitPhase stage 2 of 2 with 4 MutationType ops
delete object namespace entry {100 101 t1} -> 104
add object namespace entry {100 101 t1_renamed} -> 104
upsert descriptor #104
  ...
     id: 104
     modificationTime: {}
  -  name: t1
  +  name: t1_renamed
     nextColumnId: 4
     nextConstraintId: 2
  ...
     schemaLocked: true
     unexposedParentSchemaId: 101
  -  version: "1"
  +  version: "2"
persist all catalog changes to storage
update ttl schedule label #104
# end PreCommitPhase
commit transaction #1
