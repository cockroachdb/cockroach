/* setup */
CREATE TABLE t (i INT PRIMARY KEY, j INT, k INT);
CREATE FUNCTION f_trigger() RETURNS TRIGGER LANGUAGE PLpgSQL AS $$
BEGIN
  SELECT j FROM t WHERE j = 1;
  RETURN NULL;
END;
$$;
CREATE TRIGGER trg AFTER INSERT ON t FOR EACH ROW EXECUTE FUNCTION f_trigger();
INSERT INTO t VALUES(-1);
INSERT INTO t VALUES(-2);
INSERT INTO t VALUES(-3);

/* test */
EXPLAIN (DDL, SHAPE) ALTER TABLE t DROP COLUMN j CASCADE;
----
Schema change plan for ALTER TABLE ‹defaultdb›.‹public›.‹t› DROP COLUMN ‹j› CASCADE;
 ├── execute 2 system table mutations transactions
 ├── backfill using primary index t_pkey- in relation t
 │    └── into t_pkey+ (i; k)
 ├── execute 2 system table mutations transactions
 ├── merge temporary indexes into backfilled indexes in relation t
 │    └── from t@[3] into t_pkey+
 ├── execute 1 system table mutations transaction
 ├── validate UNIQUE constraint backed by index t_pkey+ in relation t
 └── execute 4 system table mutations transactions
