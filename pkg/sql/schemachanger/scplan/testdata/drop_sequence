create-sequence
CREATE SEQUENCE defaultdb.SQ1
----

ops
DROP SEQUENCE defaultdb.SQ1 CASCADE
----
Stage 0
 =======
Op Idx: 0 *scop.CreateGcJobForDescriptor
=========
DescID: 52
Op Idx: 1 *scop.MarkDescriptorAsDropped
=========
TableID: 52
Stage 1
 =======
Op Idx: 0 *scop.CreateGcJobForDescriptor
=========
DescID: 52
Op Idx: 1 *scop.DrainDescriptorName
=========
TableID: 52

create-table
CREATE TABLE defaultdb.blog_posts (id INT PRIMARY KEY, val int DEFAULT nextval('defaultdb.sq1'), title text)
----

create-table
CREATE TABLE defaultdb.blog_posts2 (id INT PRIMARY KEY, val int DEFAULT nextval('defaultdb.sq1'), title text)
----

ops
DROP SEQUENCE defaultdb.SQ1 CASCADE
----
Stage 0
 =======
Op Idx: 0 *scop.RemoveColumnDefaultExpression
=========
ColumnID: 2
TableID: 53
Op Idx: 1 *scop.UpdateRelationDeps
=========
TableID: 53
Op Idx: 2 *scop.RemoveColumnDefaultExpression
=========
ColumnID: 2
TableID: 54
Op Idx: 3 *scop.UpdateRelationDeps
=========
TableID: 54
Op Idx: 4 *scop.CreateGcJobForDescriptor
=========
DescID: 52
Op Idx: 5 *scop.MarkDescriptorAsDropped
=========
TableID: 52
Stage 1
 =======
Op Idx: 0 *scop.CreateGcJobForDescriptor
=========
DescID: 52
Op Idx: 1 *scop.DrainDescriptorName
=========
TableID: 52


deps
DROP SEQUENCE defaultdb.SQ1 CASCADE
----
Dependency From:
State: 1
Target:
  direction: 2
  element_proto:
    default_expression:
      column_id: 2
      table_id: 53
      usesSequenceIDs:
      - 52
To:
State: 2
Target:
  direction: 2
  element_proto:
    table:
      table_id: 52
Dependency From:
State: 1
Target:
  direction: 2
  element_proto:
    default_expression:
      column_id: 2
      table_id: 54
      usesSequenceIDs:
      - 52
To:
State: 2
Target:
  direction: 2
  element_proto:
    table:
      table_id: 52
