// Copyright 2025 The Cockroach Authors.
//
// Use of this software is governed by the CockroachDB Software License
// included in the /LICENSE file.

syntax = "proto3";
package hintpb;

import "gogoproto/gogo.proto";

// StatementHintsUnion contains exactly one type of "external" statement hint
// that can be applied to statements with a given fingerprint using the
// system.statement_hints table.
message StatementHintUnion {
  option (gogoproto.onlyone) = true;

  InjectHints inject_hints = 1;
}

// InjectHints applies inline query plan hints (join and index hints) from the
// HintedSQL field to the hinted statement. The HintedSQL string must have
// the same syntactical structure as the hinted statement, with only the
// addition of inline hints.
message InjectHints {
  string hinted_sql = 1 [(gogoproto.customname) = "HintedSQL"];
}
