# LogicTest: default

query T colnames
SHOW USERS
----
username
testuser

statement ok
CREATE USER user1

query T colnames
SHOW USERS
----
username
testuser
user1

statement error user user1 already exists
CREATE USER user1

statement error user user1 already exists
CREATE USER UsEr1

statement ok
CREATE USER Ομηρος

statement error username "node" reserved
CREATE USER node

statement error empty passwords are not permitted
CREATE USER test WITH PASSWORD ''

statement ok
CREATE USER uSEr2 WITH PASSWORD 'cockroach'

statement ok
CREATE USER user3 WITH PASSWORD '蟑螂'

statement error pq: username "foo☂" invalid; usernames are case insensitive, must start with a letter or underscore, may contain letters, digits or underscores, and must not exceed 63 characters
CREATE USER foo☂

query T colnames
SHOW USERS
----
username
testuser
user1
user2
user3
ομηρος

statement error no username specified
CREATE USER ""

user testuser

statement error pq: user testuser does not have INSERT privilege on relation users
CREATE USER user4

statement error pq: user testuser does not have INSERT privilege on relation users
UPSERT INTO system.users VALUES (user1, 'newpassword')

statement error pq: user testuser does not have SELECT privilege on relation users
SHOW USERS
