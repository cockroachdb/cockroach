# LogicTest: 3node-tenant

# SELECT * FROM crdb_internal.ranges_in_span: all ranges within given span.
# Assert the schema, using 'system.descriptor' table start/end keys as separate arguments.
query ITT colnames
SELECT * FROM crdb_internal.ranges_in_span('\x8b', '\x8c') LIMIT 0
----
range_id start_key end_key

# SELECT * FROM crdb_internal.ranges_in_span: all ranges within given span.
# Assert correct values, using 'system.descriptor' table start/end keys as separate arguments.
query ITT colnames
SELECT range_id, crdb_internal.pretty_key(start_key, -1) as start_key, crdb_internal.pretty_key(end_key, -1) as end_key FROM crdb_internal.ranges_in_span('\x8b', '\x8c')
----
range_id start_key end_key
7        /Table/3  /Table/4

# SELECT * FROM crdb_internal.ranges_in_span: all ranges within given span.
# Assert the schema, using 'system.descriptor' table start/end keys as single byte array argument.
query ITT colnames
SELECT * FROM crdb_internal.ranges_in_span('{"\x8b", "\x8c"}') LIMIT 0
----
range_id start_key end_key

# SELECT * FROM crdb_internal.ranges_in_span: all ranges within given span.
# Assert correct values, using 'system.descriptor' table start/end keys as single byte array argument.
query ITT colnames
SELECT range_id, crdb_internal.pretty_key(start_key, -1) as start_key, crdb_internal.pretty_key(end_key, -1) as end_key FROM crdb_internal.ranges_in_span('{"\x8b", "\x8c"}')
----
range_id start_key end_key
7        /Table/3  /Table/4
