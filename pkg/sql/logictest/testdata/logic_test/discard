statement ok
SET SEARCH_PATH = foo

query T
SHOW SEARCH_PATH
----
foo

statement ok
DISCARD ALL

query T
SHOW SEARCH_PATH
----
"$user", public

query T
SET timezone = 'Europe/Amsterdam'; SHOW TIMEZONE
----
Europe/Amsterdam

statement ok
DISCARD ALL;

query T
SHOW TIMEZONE
----
UTC

query T
SET TIME ZONE 'Europe/Amsterdam'; SHOW TIME ZONE
----
Europe/Amsterdam

statement ok
DISCARD ALL

query T
SHOW TIME ZONE
----
UTC

statement ok
PREPARE a AS SELECT 1

statement ok
DISCARD ALL

statement error prepared statement \"a\" does not exist
DEALLOCATE a

statement ok
BEGIN

statement error DISCARD ALL cannot run inside a transaction block
DISCARD ALL

statement ok
ROLLBACK

statement ok
SET experimental_enable_temp_tables=on;

statement ok
CREATE TEMP TABLE test (a int);

statement ok
CREATE TEMP TABLE test2 (a uuid);

query T rowsort
SELECT table_name FROM [SHOW TABLES FROM pg_temp]
----
test
test2

statement ok
DISCARD TEMP;

query T rowsort
SELECT table_name FROM [SHOW TABLES FROM pg_temp]
----

#Ensure temp schema is not deleted
query I
SELECT count(*) FROM [SHOW SCHEMAS] WHERE schema_name LIKE 'pg_temp_%'
----
1
