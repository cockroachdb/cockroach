
statement ok
CREATE TABLE t_add_generated (a int NOT NULL, b int NOT NULL, c int NOT NULL, d int NOT NULL, e int, f STRING NOT NULL);

statement ok
ALTER TABLE t_add_generated ALTER COLUMN a ADD GENERATED ALWAYS;

statement ok
ALTER TABLE t_add_generated ALTER COLUMN b ADD GENERATED BY DEFAULT;

statement ok
ALTER TABLE t_add_generated ALTER COLUMN c ADD GENERATED ALWAYS ( START WITH 10);

statement ok
ALTER TABLE t_add_generated ALTER COLUMN d ADD GENERATED BY DEFAULT ( START WITH 10);

query error pq: column "e" of relation "t_add_generated" has a NULL declaration
ALTER TABLE t_add_generated ALTER COLUMN e ADD GENERATED ALWAYS;

query error pq: column "a" of relation "t_add_generated" is already an identity column
ALTER TABLE t_add_generated ALTER COLUMN a ADD GENERATED ALWAYS;

query error pq: column "f" of relation "t_add_generated" type must be an INT
ALTER TABLE t_add_generated ALTER COLUMN f ADD GENERATED ALWAYS;

statement ok
CREATE TABLE t_set_generated (a int GENERATED ALWAYS AS IDENTITY, b int GENERATED BY DEFAULT AS IDENTITY, c int GENERATED ALWAYS AS IDENTITY (START WITH 10), d int GENERATED BY DEFAULT AS IDENTITY  (START WITH 10), e int);

statement ok
ALTER TABLE t_set_generated ALTER COLUMN a SET GENERATED BY DEFAULT;

statement ok
ALTER TABLE t_set_generated ALTER COLUMN b SET GENERATED ALWAYS;

statement ok
ALTER TABLE t_set_generated ALTER COLUMN c SET GENERATED BY DEFAULT;

statement ok
ALTER TABLE t_set_generated ALTER COLUMN d SET GENERATED ALWAYS;

statement error pq: column "e" of relation "t_set_generated" is not an identity column
ALTER TABLE t_set_generated ALTER COLUMN e SET GENERATED BY DEFAULT;

statement error pq: column "e" of relation "t_set_generated" is not an identity column
ALTER TABLE t_set_generated ALTER COLUMN e SET GENERATED ALWAYS;
