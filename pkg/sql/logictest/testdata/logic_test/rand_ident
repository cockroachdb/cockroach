# LogicTest: local

query I
SELECT count(*) FROM crdb_internal.gen_rand_ident('hello', 10)
----
10

# The following tests override the parameter default to fix the random seed,
# to ensure that the results remain stable.

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123}')
----
helloworld_1
heLlowor%pld    _2
hellğŸ˜†oworld_3
helloworld_4
helloworld_5
helloworld_6
helloWorld_7
helloworld_8
h%velloworld_9
hellowo         rld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"suffix":false}')
----
helloworld
heLlowor%pld
hellğŸ˜†oworld
helloworld
helloworld
helloworld
helloWorld
helloworld
h%velloworld
hellowo       rld

# All types of noise enabled except for one: set prob to -1.
query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":true,"emote":-1}')
----
helloworld_1
hell\roworld%56_2
he"llowo rld_3
helloworld_4
helloworld_5
helloworld_6
helloworld_7
hel
loworld_8
helloworld_9
h elloworld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false}')
----
helloworld_1
helloworld_2
helloworld_3
helloworld_4
helloworld_5
helloworld_6
helloworld_7
helloworld_8
helloworld_9
helloworld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false,"punctuate":1}')
----
h*ello}world&_1
helloworld_2
helloworld_3
hell(oworld-_4
hellowo/rld_5
helloworld_6
hell.ow!orld_7
helloworld_8
he}lloworld_9
h%elloworld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false,"quote":1}')
----
h"ello"world"_1
helloworld_2
helloworld_3
hell'oworld"_4
hellowo'rld_5
helloworld_6
hell"ow'orld_7
helloworld_8
he'lloworld_9
h'elloworld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false,"space":1}')
----
h ellow orld_1
h elloworld_2
helloworld_3
hellowo rld_4
hel loworld_5
h e lloworld_6
helloworld _7
he lloworld_8
helloworld _9
helloworld _10

query T nosort
SELECT quote_ident(crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false,"whitespace":1}'))
----
"h  ello  world  _1"
helloworld_2
helloworld_3
"hell
oworld           _4"
"hellowo
rld_5"
helloworld_6
"hell
ow orld_7"
helloworld_8
"he
lloworld_9"
"h elloworld_10"

query T nosort
SELECT crdb_internal.gen_rand_ident('helloworld', 10, '{"seed":123,"noise":false,"emote":1}')
----
hğŸ˜ŸelloğŸ˜ºworldğŸ˜‹_1
helloworld_2
helloworld_3
hellğŸ˜…oworldğŸ˜µ_4
hellowoğŸ˜“rld_5
helloworld_6
hellğŸ˜‰owğŸ˜‰orld_7
helloworld_8
heğŸ˜™lloworld_9
hğŸ˜elloworld_10

query T nosort
SELECT crdb_internal.gen_rand_ident('aeaeiao', 10, '{"seed":123,"noise":false,"diacritics":3,"diacritic_depth":4}')
----
aáº¹Í«aeÌ©Í‡iaoÌ…Í˜_1
ÄÌeÍ aÌ¶Ì“eiaÌ²o_2
aÌ²Ì¾eÌ™ÌºaeÌ´Í¥iaÍÍŸo_3
aeaÍá¸™Í­iÍ–ÍaÍªo_4
aeÍŒaeiÌ·Í“aÌºo_5
aÍ”ÍªeaeiaÍ§oÌ¦_6
aeÍ¨Ã¤Ì¯ÌeiÌ’aÌ¸o_7
aeaeÍ®iÌªÍ…aÍšÌ“o_8
aeaeÇÌ‰aÍ­ÍœoÌ©Ìš_9
aeaeÄ©ÍŠÃ£Ì“o_10

query T nosort
SELECT crdb_internal.gen_rand_ident('aeaeiao', 10, '{"seed":123,"noise":false,"zalgo":true}')
----
aÌ«Ì£Ì³ÌŸÌ©Í‡Ì»ÍÍ«Ì‡eÌ¶ÍÌÌÌ…Ì„ÌŠÍ¦ÌÍ˜ÍŸÍ ÄƒÌ¢Í”Ì²Í™Ì²Í™Ì™ÌºÌ¼ÌÌ¾ÌƒÍ‘Í¢Ã¨Ì´Ì¸Ì›ÍÌ Ì¥ÍÌ°Ì­Í£Í¥Í­ÌšÍŸÍ iÍ–Í‡Ì¦Í‘ÍªÍªÍ‹ÍŒÍœÍÈÌ·Í“Ì—ÌºÌ»Ì£Ì½ÍªÍ›Å‘Ì³Ì­Í¯Í¬ÌÍ§Í¤ÍŒ_1
aÌ Ì¯Ì¿Í¨ÌÍ§ÌˆÌÍ¬ÌÌ”Ì’Ä›Ì¸Ì›Í®ÌšÍŸÍ¢aÌ·eÌµÍšÌ°Ì–Í­Ì“Ì‘ÌƒÌ“ÌÌŒÌ•iÌ´Ì±Ì©Ì¹Ì‡Í­Í¨Í®ÍÌÌƒÌšÍ˜ÍœÃ£Ì¡Ì¡Ì¼Ì“Í‚Ì‰ÍŸÍ…Í…oÌ¡Ì–Ì¹Ì“Í_2
aÌµÌ¦Í‹ÌˆÌÍ’Í¦Ì½Ì‡ÍŒeÌ¡Í§ÌŠaÌ·Ì¢Ì¢ÌŸÌ¯Í•Í’Ì“Í‹ÌƒÌ‹ÍŠÍ¨ÍŸeÌ¸Ì¡ÍÌ¥ÌºÍ™Ì“Ì‚ÌšiÌÍ¦ÍŠÍÌ´Ì·Í©Ì„Ì†Ì½ÌƒÍ¥ÍœÍ¡Í…Í…Í…á¸Ì–Ì­ÍšÌ˜Ì—Ì ÍˆÌ¬Ì”Ì¿ÌoÌ§ÌªÌ¬Ì—Ì³Í‘Í®Í©Ì‚Í˜_3
Ã¡Ì¢ÌŒeÍ“Í’Ì’Í¥Í ÍÌÌ³ÌˆÌÌ€Ì•Ã£Ì¸Ì±Ì»Ì¥Ì»Ì©Ì’Í§Í¨Í¨Ì”Í†Ì€ÌŠÍ¦ÍŠÍáº½iÌ¶Ì¢Ì›Ì ÌœÌ£Ì˜Ì‹Ì½ÌÍ‘Ì…ÌÌ‡Ì‹ÌˆÌÍ¡È§Ì»Ç«Ì¬Ì©Ì³ÍˆÌÌŒÌˆÌˆÌÍÍ_4
aÌ¸Ì›Ì¦ÌÌ°Ì Ì–ÌºÍ«ÌÍ‘Í‚Ì€ÌŠÌ½Í eÍÌ°Ì˜ÍšÍ™Ì™Ì£Í•Í”ÌÌ‹Í¨Í‹Ì€Ì“ÌÍ˜ÍœaÌ¯Ì­Ì¯Í•Ì²Í£Ì“ÌˆÌÍ¥ÍŒÍ§Í¬ÌšÍeÌ¢Ì–Ì«Ì¯Í”Ì½Í¯ÌÍÌ‡ÌŠÌ¾Í‚Í¬iÌ™Í—Í‹Ì„Ì‡ÍÍÍ¡ÍÌ¼Ì—Ì±ÌƒÌaÌ™Ì©Ì”ÍÍˆÌ«Ì£ÌÌá»¡Ì±ÌÌ’Í†ÌÍ¯Í¦Í‘Í _5
aÌ·Ì«Ì¥Ì£Ì¦Ì¦Ì­Í—Í†Ì…ÍÍ¬Ì“Í¥Ìšá¸™Ì¶Ì›Ì²Ì³Ì»Ì¯Ì™ÌºÌ…ÍªÍ¦ÌÍŒÍŸáº¡Ì·Ì¢Ì¤Ì¤Í—ÍŠÍ§Í©Ì‘Í‹Í¡eÌ˜Í‰ÌœÌ®ÍÌ°Í”ÌŠÍ¨Ì†Ì„Ì…iÌ™ÍšÍ‡Ì³Í•ÌºÌ°Í®ÌƒÌ‹Í‚Ì‚Í®Í£áº­Ì«ÌÌœÌ±ÌŒÍ­Ì‹Í¬ÌÍ›Í È¯ÌÌ»Ì˜ÌÌŒ_6
Ã¡eÌ·Ì·Ì™ÌŸÌœÌ®Í•Ì‹Í˜ÍaÍ“Í–áº¹Í‰ÍˆÌ¦Í›Í©Ì”Í‹Í«Ì½ÌŠiÌ»Ì«Ì‹ÌÍ¬Í†Ì’ÌŒaÌ®Ì¬Ì¼Ì³Í‰Í¦Í©Í‹Í£Í¥Í§ÌÍ‚Í©Ì“Í­Ì•oÌ¯Í›Í¢ÍÌÌ¬ÍÌ¬Ì˜Ì¥ÍˆÌ¯Í«Ì…Ì†Í›ÌšÍ¡_7
ÇÍÍÍ™Ì¬Í“Ì«Ì®Í™Í®ÌˆÍ£eÍ©ÍœÈƒÌ¢Ì§Í“Ì£Í•Ì­Í¤eÌ¦ÌÌ¤Ì²Ì­Í¬Ì’ÍŠÌŠÍ†ÍœÍÌšÍiÍ‰ÍˆÍÍšÌ¿ÌŠÍ¬Ì‘ÌšÄÌµÌœÌªÍ•Í•Ì¼Ì˜Í‚Ì¿ÌÌ€Í Íá»›Í–Í“Ì³Ì¯ÌÍ®Í’Í‘Ì”Í©Ì‹Ì’Í¡_8
È§Ì¢Ì™ÌÍ•Í•Ì˜Ì¦ÌÌ‹Í«Ì€Ì”Í˜ÌšÍ¢ÍÍ Ã¨ÌµÌ«Ì°Ì¾Ì”ÍŒÍ‚Í˜ÍœÍaÌ¸Ì³Ì¦Í‚Ì’Í¥Í—eÌ´Ì¢Í•Ì‹Ì‘Ì„ÍªÌŠÍ‹ÌÌ•iÍ–Ì¹ÌŸÍ˜ÍÄ…Ì™Í‹ÍŠÌ€Í¬á»Ì¬Ì©Í—ÌˆÌ_9
ÈƒÌ’Ì‰ÌƒÍ¢ÍÍ…eÍ¡aÍ–Í–Ì©Ì¦Í†Ì‡Ì½Ì…ÍŒÌƒÍ¡eÌ¶Ì¸Í™ÍšÌ£Ì©Ì“Í‚Ì¿ÌˆÌ€Í¬Í¤ÌŒÌÌšiÌ¬Ì²Ì©ÍŠÌÌÌ€ÌšaÌ§ÍÌÌœÌ“Í’ÌÌ…oÌ¯Í•Ì—Ì¹Í”Ì˜Í«Ì…Í¯Ì’Í­Í’ÌÌ€Ì”Ì¿Í¢Í_10
