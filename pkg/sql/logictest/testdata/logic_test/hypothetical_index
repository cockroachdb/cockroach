statement ok
CREATE TABLE t (
  k INT PRIMARY KEY,
  a INT,
  FAMILY (k, a)
)

statement ok
CREATE INDEX i ON t (a) HYPOTHETICAL

query TT
SHOW CREATE TABLE t
----
t  CREATE TABLE public.t (
   k INT8 NOT NULL,
   a INT8 NULL,
   CONSTRAINT "primary" PRIMARY KEY (k ASC),
   INDEX i (a ASC) HYPOTHETICAL,
   FAMILY fam_0_k_a (k, a)
)

query T
EXPLAIN SELECT * FROM t WHERE a = 0
----
distribution: local
vectorized: true
·
• filter
│ filter: a = 0
│
└── • scan
      missing stats
      table: t@primary
      spans: FULL SCAN

query T
EXPLAIN (OPT) SELECT * FROM t WHERE a = 0
----
select
 ├── scan t
 └── filters
      └── a = 0

statement error index \"i\" cannot be used for this query
SELECT * FROM t@i WHERE a = 0

query T
EXPLAIN (HYPOTHETICAL) SELECT * FROM t WHERE a = 0
----
distribution: local
vectorized: true
·
• scan
  missing stats
  table: t@i
  spans: [/0 - /0]

query T
EXPLAIN (OPT, HYPOTHETICAL) SELECT * FROM t WHERE a = 0
----
scan t@i
 └── constraint: /2/1: [/0 - /0]
