/^reserved_keyword:/ {
  reserved_keyword = 1
  next
}

/^%%/ {
  reserved_keyword = 0
}

BEGIN {
  printf("// Code generated by reserved_keywords.awk.\n\n")
  printf("package parser\n\n")
  printf("var reservedKeywords = map[string]struct{}{\n")
}

{
  if (reserved_keyword && $NF != "") {
    printf("\"%s\": {},\n", $NF)
  }
}

END {
  printf("}\n")
}
