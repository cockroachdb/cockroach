# This test simulates the 
gen_cluster nodes=3 stores_per_node=2
----

# Generate 300 ranges, where each range is 100mb (logical).
gen_ranges ranges=10 repl_factor=3 placement_type=replica_placement
{s1,s2:*,s3:NON_VOTER}:1 {s4,s5,s6}:1
----
{s1,s2:leaseholder,s3:NON_VOTER}:1
{s4:leaseholder,s5,s6}:1


eval duration=10m
----
OK


print
----
sample 1:
cluster state:
stores(6)=[s1n1=(r1:1,r2:1,r3:1,r4:1,r5:1),s2n1=(r1:2,r2:2,r3:2,r4:2,r5:2),s3n2=(r1:3,r2:3,r3:3,r4:3,r5:3),s4n2=(r6:1,r7:1,r8:1,r9:1,r10:1),s5n3=(r6:2,r7:2,r8:2,r9:2,r10:2),s6n3=(r6:3,r7:3,r8:3,r9:3,r10:3)] 
ranges(10)=[r1(0)=(s1:r1(VOTER_FULL),s2:r2(VOTER_FULL)*,s3:r3(NON_VOTER)),r2(1000)=(s1:r1(VOTER_FULL),s2:r2(VOTER_FULL)*,s3:r3(NON_VOTER)),r3(2000)=(s1:r1(VOTER_FULL),s2:r2(VOTER_FULL)*,s3:r3(NON_VOTER)),r4(3000)=(s1:r1(VOTER_FULL),s2:r2(VOTER_FULL)*,s3:r3(NON_VOTER)),r5(4000)=(s1:r1(VOTER_FULL),s2:r2(VOTER_FULL)*,s3:r3(NON_VOTER)),
r6(5000)=(s4:r1(VOTER_FULL)*,s5:r2(VOTER_FULL),s6:r3(VOTER_FULL)),r7(6000)=(s4:r1(VOTER_FULL)*,s5:r2(VOTER_FULL),s6:r3(VOTER_FULL)),r8(7000)=(s4:r1(VOTER_FULL)*,s5:r2(VOTER_FULL),s6:r3(VOTER_FULL)),r9(8000)=(s4:r1(VOTER_FULL)*,s5:r2(VOTER_FULL),s6:r3(VOTER_FULL)),r10(9000)=(s4:r1(VOTER_FULL)*,s5:r2(VOTER_FULL),s6:r3(VOTER_FULL))
]
