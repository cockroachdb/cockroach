load_cluster config=complex
----

#ComplexConfig Topology:
# EU
#  EU_1
#  │ └── [19 20 21]
#  EU_2
#  │ └── [22 23 24]
#  EU_3
#  │ └── [25 26 27 28]
# US_East
#  US_East_1
#  │ └── [1]
#  US_East_2
#  │ └── [2 3]
#  US_East_3
#  │ └── [4 5 6]
#  US_East_4
#  │ └── [7 8 9 10 11 12 13 14 15 16]
# US_West
#  US_West_1
#    └── [17 18]


set_span_config delay=10m
[0,9999999999): num_replicas=16 num_voters=3 constraints={'+region=US_East':16,'+zone=US_East_1':1,'+zone=US_East_2':2} voter_constraints={'+zone=US_East_4':3}
----

assertion type=conformance under=0 over=0 unavailable=0 violating=0
----

eval duration=60m
----
failed assertion sample 1
  conformance unavailable=0 under=0 over=0 violating=0 
  actual unavailable=0 under=1, over=0 violating=2 lease-violating=0 lease-less-preferred=0
under replicated:
  r1:{0000000000-9999999999} [(n1,s1):1] applying num_replicas=16 num_voters=3 constraints=[+region=US_East:16 +zone=US_East_1:1 +zone=US_East_2:2] voter_constraints=[+zone=US_East_4:3]violating constraints:
  r1:{0000000000-9999999999} [(n1,s1):1] applying num_replicas=16 num_voters=3 constraints=[+region=US_East:16 +zone=US_East_1:1 +zone=US_East_2:2] voter_constraints=[+zone=US_East_4:3]
  r1:{0000000000-9999999999} [(n1,s1):1] applying num_replicas=16 num_voters=3 constraints=[+region=US_East:16 +zone=US_East_1:1 +zone=US_East_2:2] voter_constraints=[+zone=US_East_4:3]
