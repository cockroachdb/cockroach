skip_under_ci
----

gen_cluster nodes=25 node_cpu_rate_capacity=8000000000
----

setting split_queue_enabled=false
----

# This workload will be initially evenly distributed over the cluster.
gen_ranges ranges=50 min_key=0 max_key=10000
----

gen_load rate=15000 rw_ratio=0.95 min_block=100 max_block=100 request_cpu_per_access=100 raft_cpu_per_write=20 min_key=0 max_key=10000
----

# Another workload is added over the second half of the keyspace, which is initially
# only on s1-s3.
gen_ranges ranges=50 min_key=10001 max_key=20000 placement_type=skewed
----

gen_load rate=15000 rw_ratio=0.95 min_block=1 max_block=1 request_cpu_per_access=100000 raft_cpu_per_write=20000 min_key=10001 max_key=20000
----

eval duration=25m samples=1 seed=42 cfgs=(mma-only) metrics=(cpu,cpu_util,write_bytes_per_second,replicas,leases)
----
cpu#1: last:  [s1=374886931, s2=371179870, s3=245540920, s4=93235414, s5=91824370, s6=31024426, s7=656167, s8=30339076, s9=359653, s10=30460955, s11=388064, s12=30340742, s13=394468, s14=30693430, s15=359565, s16=30532188, s17=30405056, s18=60714988, s19=360175, s20=362371, s21=30380612, s22=30384103, s23=395865, s24=689807, s25=30296190] (stddev=104514490.49, mean=61848216.24, sum=1546205406)
cpu#1: thrash_pct: [s1=8%, s2=28%, s3=8%, s4=4%, s5=3%, s6=2%, s7=0%, s8=1%, s9=0%, s10=2%, s11=0%, s12=1%, s13=0%, s14=1%, s15=0%, s16=1%, s17=1%, s18=3%, s19=0%, s20=0%, s21=2%, s22=1%, s23=0%, s24=0%, s25=2%]  (sum=69%)
cpu_util#1: last:  [s1=0.05, s2=0.05, s3=0.03, s4=0.01, s5=0.01, s6=0.00, s7=0.00, s8=0.00, s9=0.00, s10=0.00, s11=0.00, s12=0.00, s13=0.00, s14=0.00, s15=0.00, s16=0.00, s17=0.00, s18=0.01, s19=0.00, s20=0.00, s21=0.00, s22=0.00, s23=0.00, s24=0.00, s25=0.00] (stddev=0.01, mean=0.01, sum=0)
cpu_util#1: thrash_pct: [s1=8%, s2=28%, s3=8%, s4=4%, s5=3%, s6=2%, s7=0%, s8=1%, s9=0%, s10=2%, s11=0%, s12=1%, s13=0%, s14=1%, s15=0%, s16=1%, s17=1%, s18=3%, s19=0%, s20=0%, s21=2%, s22=1%, s23=0%, s24=0%, s25=2%]  (sum=69%)
leases#1: first: [s1=28, s2=14, s3=4, s4=3, s5=3, s6=2, s7=2, s8=2, s9=2, s10=2, s11=3, s12=2, s13=3, s14=3, s15=2, s16=3, s17=3, s18=3, s19=2, s20=2, s21=2, s22=3, s23=3, s24=3, s25=1] (stddev=5.43, mean=4.00, sum=100)
leases#1: last:  [s1=13, s2=14, s3=10, s4=5, s5=5, s6=3, s7=2, s8=2, s9=2, s10=3, s11=3, s12=2, s13=3, s14=3, s15=2, s16=3, s17=3, s18=4, s19=2, s20=2, s21=3, s22=3, s23=3, s24=3, s25=2] (stddev=3.24, mean=4.00, sum=100)
leases#1: thrash_pct: [s1=0%, s2=22%, s3=0%, s4=0%, s5=0%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=0%, s13=0%, s14=0%, s15=0%, s16=0%, s17=0%, s18=0%, s19=0%, s20=0%, s21=0%, s22=0%, s23=0%, s24=0%, s25=0%]  (sum=22%)
replicas#1: first: [s1=56, s2=44, s3=25, s4=16, s5=12, s6=9, s7=8, s8=7, s9=7, s10=7, s11=7, s12=7, s13=7, s14=8, s15=7, s16=8, s17=7, s18=8, s19=7, s20=7, s21=7, s22=7, s23=7, s24=8, s25=7] (stddev=11.97, mean=12.00, sum=300)
replicas#1: last:  [s1=56, s2=44, s3=25, s4=16, s5=12, s6=9, s7=8, s8=7, s9=7, s10=7, s11=7, s12=7, s13=7, s14=8, s15=7, s16=8, s17=7, s18=8, s19=7, s20=7, s21=7, s22=7, s23=7, s24=8, s25=7] (stddev=11.97, mean=12.00, sum=300)
replicas#1: thrash_pct: [s1=0%, s2=0%, s3=0%, s4=0%, s5=0%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=0%, s13=0%, s14=0%, s15=0%, s16=0%, s17=0%, s18=0%, s19=0%, s20=0%, s21=0%, s22=0%, s23=0%, s24=0%, s25=0%]  (sum=0%)
write_bytes_per_second#1: last:  [s1=9754, s2=9566, s3=9255, s4=9151, s5=9080, s6=9029, s7=9004, s8=9012, s9=9035, s10=9019, s11=8997, s12=8966, s13=9027, s14=9043, s15=9056, s16=9054, s17=9014, s18=9030, s19=9005, s20=8990, s21=9016, s22=9020, s23=9024, s24=9054, s25=9035] (stddev=179.12, mean=9089.44, sum=227236)
write_bytes_per_second#1: thrash_pct: [s1=403%, s2=402%, s3=380%, s4=395%, s5=421%, s6=394%, s7=390%, s8=367%, s9=352%, s10=347%, s11=345%, s12=376%, s13=373%, s14=377%, s15=356%, s16=361%, s17=396%, s18=390%, s19=371%, s20=365%, s21=412%, s22=362%, s23=435%, s24=387%, s25=359%]  (sum=9516%)
artifacts[mma-only]: 231ce55ad1d74827
==========================
