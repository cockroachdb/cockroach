skip_under_ci
----

gen_cluster nodes=25 node_cpu_rate_capacity=800000
----
WARNING: node CPU capacity of â‰ˆ0.00 cores is likely accidental

setting split_queue_enabled=false
----

# This workload will be initially evenly distributed over the cluster.
gen_ranges ranges=50 min_key=0 max_key=10000
----

gen_load rate=15000 rw_ratio=0.95 min_block=100 max_block=100 request_cpu_per_access=100 raft_cpu_per_write=20 min_key=0 max_key=10000
----

# Another workload is added over the second half of the keyspace, which is initially
# only on s1-s3.
gen_ranges ranges=50 min_key=10001 max_key=20000 placement_type=skewed
----

gen_load rate=15000 rw_ratio=0.95 min_block=1 max_block=1 request_cpu_per_access=100000 raft_cpu_per_write=20000 min_key=10001 max_key=20000
----

eval duration=25m samples=1 seed=42 cfgs=(mma-only) metrics=(cpu,write_bytes_per_second,replicas,leases)
----
cpu#1: last:  [s1=74658907, s2=68208820, s3=62841720, s4=61883151, s5=61568465, s6=60936387, s7=60869228, s8=61108420, s9=60824385, s10=60846480, s11=60692919, s12=60819115, s13=60534302, s14=60932892, s15=60802021, s16=60645005, s17=60688046, s18=61029928, s19=61026148, s20=61068941, s21=60733024, s22=60686783, s23=60937532, s24=60830854, s25=60950526] (stddev=3007243.57, mean=61844959.96, sum=1546123999)
cpu#1: thrash_pct: [s1=11%, s2=58%, s3=74%, s4=42%, s5=3%, s6=3%, s7=3%, s8=3%, s9=3%, s10=3%, s11=3%, s12=11%, s13=3%, s14=11%, s15=10%, s16=2%, s17=3%, s18=11%, s19=3%, s20=3%, s21=3%, s22=3%, s23=2%, s24=2%, s25=3%]  (sum=275%)
leases#1: first: [s1=29, s2=13, s3=4, s4=2, s5=2, s6=2, s7=3, s8=3, s9=2, s10=3, s11=4, s12=1, s13=2, s14=2, s15=4, s16=3, s17=3, s18=3, s19=2, s20=3, s21=3, s22=2, s23=2, s24=1, s25=2] (stddev=5.56, mean=4.00, sum=100)
leases#1: last:  [s1=4, s2=4, s3=4, s4=3, s5=4, s6=4, s7=5, s8=4, s9=4, s10=4, s11=5, s12=3, s13=3, s14=4, s15=5, s16=4, s17=4, s18=5, s19=4, s20=4, s21=4, s22=4, s23=4, s24=3, s25=4] (stddev=0.57, mean=4.00, sum=100)
leases#1: thrash_pct: [s1=0%, s2=47%, s3=64%, s4=36%, s5=0%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=8%, s13=0%, s14=8%, s15=8%, s16=0%, s17=0%, s18=8%, s19=0%, s20=0%, s21=0%, s22=0%, s23=0%, s24=0%, s25=0%]  (sum=180%)
replicas#1: first: [s1=56, s2=44, s3=25, s4=16, s5=11, s6=9, s7=8, s8=8, s9=7, s10=8, s11=7, s12=7, s13=7, s14=7, s15=7, s16=7, s17=7, s18=7, s19=7, s20=8, s21=8, s22=7, s23=8, s24=7, s25=7] (stddev=11.96, mean=12.00, sum=300)
replicas#1: last:  [s1=55, s2=33, s3=16, s4=12, s5=11, s6=9, s7=9, s8=9, s9=9, s10=9, s11=8, s12=9, s13=8, s14=9, s15=8, s16=8, s17=8, s18=9, s19=9, s20=9, s21=8, s22=8, s23=9, s24=9, s25=9] (stddev=10.07, mean=12.00, sum=300)
replicas#1: thrash_pct: [s1=0%, s2=0%, s3=0%, s4=5%, s5=0%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=5%, s13=0%, s14=5%, s15=4%, s16=0%, s17=0%, s18=5%, s19=0%, s20=0%, s21=0%, s22=0%, s23=0%, s24=0%, s25=0%]  (sum=23%)
write_bytes_per_second#1: last:  [s1=9724, s2=9367, s3=9131, s4=9033, s5=9048, s6=9046, s7=9017, s8=9057, s9=9060, s10=9071, s11=8996, s12=9034, s13=9015, s14=9053, s15=9061, s16=9067, s17=9074, s18=9059, s19=9031, s20=9043, s21=9056, s22=9026, s23=9065, s24=9036, s25=9066] (stddev=145.82, mean=9089.44, sum=227236)
write_bytes_per_second#1: thrash_pct: [s1=431%, s2=392%, s3=404%, s4=363%, s5=361%, s6=369%, s7=353%, s8=322%, s9=377%, s10=353%, s11=334%, s12=355%, s13=356%, s14=384%, s15=342%, s16=383%, s17=320%, s18=365%, s19=371%, s20=385%, s21=370%, s22=346%, s23=365%, s24=381%, s25=379%]  (sum=9163%)
artifacts[mma-only]: ec4f96c58ffca54
