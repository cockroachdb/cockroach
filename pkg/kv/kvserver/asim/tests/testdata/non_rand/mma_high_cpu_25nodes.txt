skip_under_ci
----

gen_cluster nodes=25 node_cpu_rate_capacity=800000
----
WARNING: node CPU capacity of â‰ˆ0.00 cores is likely accidental

setting split_queue_enabled=false
----

# This workload will be initially evenly distributed over the cluster.
gen_ranges ranges=50 min_key=0 max_key=10000
----

gen_load rate=15000 rw_ratio=0.95 min_block=100 max_block=100 request_cpu_per_access=100 raft_cpu_per_write=20 min_key=0 max_key=10000
----

# Another workload is added over the second half of the keyspace, which is initially
# only on s1-s3.
gen_ranges ranges=50 min_key=10001 max_key=20000 placement_type=skewed
----

gen_load rate=15000 rw_ratio=0.95 min_block=1 max_block=1 request_cpu_per_access=100000 raft_cpu_per_write=20000 min_key=10001 max_key=20000
----

eval duration=25m samples=1 seed=42 cfgs=(mma-only) metrics=(cpu,write_bytes_per_second,replicas,leases)
----
cpu#1: last:  [s1=74658907, s2=68208820, s3=62841720, s4=61883151, s5=61568465, s6=60936387, s7=60869228, s8=61108420, s9=60824385, s10=60846480, s11=60692919, s12=60819115, s13=60534302, s14=60932892, s15=60802021, s16=60645005, s17=60688046, s18=61029928, s19=61026148, s20=61068941, s21=60733024, s22=60686783, s23=60937532, s24=60830854, s25=60950526] (stddev=3007243.57, mean=61844959.96, sum=1546123999)
cpu#1: thrashing: [max(s20)=(freq=1533, mag=1.41) (s1=(freq=1424, mag=4.80), s2=(freq=1487, mag=3.66), s3=(freq=1470, mag=6.75), s4=(freq=1499, mag=7.64), s5=(freq=1500, mag=1.99), s6=(freq=1516, mag=1.58), s7=(freq=1445, mag=2.23), s8=(freq=1491, mag=1.00), s9=(freq=1501, mag=4.58), s10=(freq=1500, mag=0.35), s11=(freq=1495, mag=0.93), s12=(freq=1503, mag=2.13), s13=(freq=1498, mag=1.75), s14=(freq=1424, mag=3.84), s15=(freq=1515, mag=0.86), s16=(freq=1484, mag=0.81), s17=(freq=1498, mag=1.48), s18=(freq=1493, mag=4.05), s19=(freq=1509, mag=1.76), s20=(freq=1533, mag=1.41), s21=(freq=1471, mag=0.86), s22=(freq=1479, mag=1.26), s23=(freq=1496, mag=0.32), s24=(freq=1513, mag=7.84), s25=(freq=1467, mag=1.18))]
leases#1: first: [s1=29, s2=13, s3=4, s4=2, s5=2, s6=2, s7=3, s8=3, s9=2, s10=3, s11=4, s12=1, s13=2, s14=2, s15=4, s16=3, s17=3, s18=3, s19=2, s20=3, s21=3, s22=2, s23=2, s24=1, s25=2] (stddev=5.56, mean=4.00, sum=100)
leases#1: last:  [s1=4, s2=4, s3=4, s4=3, s5=4, s6=4, s7=5, s8=4, s9=4, s10=4, s11=5, s12=3, s13=3, s14=4, s15=5, s16=4, s17=4, s18=5, s19=4, s20=4, s21=4, s22=4, s23=4, s24=3, s25=4] (stddev=0.57, mean=4.00, sum=100)
leases#1: thrashing: [max(s1)=(freq=28, mag=2.79) (s1=(freq=28, mag=2.79), s2=(freq=28, mag=4.24), s3=(freq=18, mag=3.97), s4=(freq=10, mag=3.06), s5=(freq=0, mag=0.00), s6=(freq=0, mag=0.00), s7=(freq=0, mag=0.00), s8=(freq=0, mag=0.00), s9=(freq=0, mag=0.00), s10=(freq=0, mag=0.00), s11=(freq=0, mag=0.00), s12=(freq=2, mag=0.73), s13=(freq=0, mag=0.00), s14=(freq=2, mag=0.57), s15=(freq=2, mag=0.40), s16=(freq=0, mag=0.00), s17=(freq=0, mag=0.00), s18=(freq=2, mag=0.43), s19=(freq=0, mag=0.00), s20=(freq=0, mag=0.00), s21=(freq=0, mag=0.00), s22=(freq=0, mag=0.00), s23=(freq=0, mag=0.00), s24=(freq=0, mag=0.00), s25=(freq=0, mag=0.00))]
replicas#1: first: [s1=56, s2=44, s3=25, s4=16, s5=11, s6=9, s7=8, s8=8, s9=7, s10=8, s11=7, s12=7, s13=7, s14=7, s15=7, s16=7, s17=7, s18=7, s19=7, s20=8, s21=8, s22=7, s23=8, s24=7, s25=7] (stddev=11.96, mean=12.00, sum=300)
replicas#1: last:  [s1=55, s2=33, s3=16, s4=12, s5=11, s6=9, s7=9, s8=9, s9=9, s10=9, s11=8, s12=9, s13=8, s14=9, s15=8, s16=8, s17=8, s18=9, s19=9, s20=9, s21=8, s22=8, s23=9, s24=9, s25=9] (stddev=10.07, mean=12.00, sum=300)
replicas#1: thrashing: [max(s2)=(freq=20, mag=0.56) (s1=(freq=2, mag=0.04), s2=(freq=20, mag=0.56), s3=(freq=18, mag=0.96), s4=(freq=10, mag=0.74), s5=(freq=0, mag=0.00), s6=(freq=0, mag=0.00), s7=(freq=0, mag=0.00), s8=(freq=0, mag=0.00), s9=(freq=0, mag=0.00), s10=(freq=0, mag=0.00), s11=(freq=0, mag=0.00), s12=(freq=2, mag=0.23), s13=(freq=0, mag=0.00), s14=(freq=2, mag=0.23), s15=(freq=2, mag=0.25), s16=(freq=0, mag=0.00), s17=(freq=0, mag=0.00), s18=(freq=2, mag=0.23), s19=(freq=0, mag=0.00), s20=(freq=0, mag=0.00), s21=(freq=0, mag=0.00), s22=(freq=0, mag=0.00), s23=(freq=0, mag=0.00), s24=(freq=0, mag=0.00), s25=(freq=0, mag=0.00))]
write_bytes_per_second#1: last:  [s1=9724, s2=9367, s3=9131, s4=9033, s5=9048, s6=9046, s7=9017, s8=9057, s9=9060, s10=9071, s11=8996, s12=9034, s13=9015, s14=9053, s15=9061, s16=9067, s17=9074, s18=9059, s19=9031, s20=9043, s21=9056, s22=9026, s23=9065, s24=9036, s25=9066] (stddev=145.82, mean=9089.44, sum=227236)
write_bytes_per_second#1: thrashing: [max(s21)=(freq=1350, mag=1.68) (s1=(freq=1282, mag=1.74), s2=(freq=1302, mag=0.73), s3=(freq=1280, mag=1.78), s4=(freq=1306, mag=0.68), s5=(freq=1250, mag=0.66), s6=(freq=1261, mag=0.76), s7=(freq=1274, mag=1.62), s8=(freq=1278, mag=0.60), s9=(freq=1296, mag=0.72), s10=(freq=1258, mag=1.69), s11=(freq=1334, mag=1.66), s12=(freq=1249, mag=1.69), s13=(freq=1276, mag=0.66), s14=(freq=1300, mag=1.77), s15=(freq=1254, mag=0.63), s16=(freq=1262, mag=1.77), s17=(freq=1228, mag=1.49), s18=(freq=1210, mag=1.68), s19=(freq=1296, mag=1.73), s20=(freq=1342, mag=0.71), s21=(freq=1350, mag=1.68), s22=(freq=1300, mag=0.65), s23=(freq=1232, mag=1.73), s24=(freq=1237, mag=1.72), s25=(freq=1250, mag=0.74))]
artifacts[mma-only]: ec4f96c58ffca54
