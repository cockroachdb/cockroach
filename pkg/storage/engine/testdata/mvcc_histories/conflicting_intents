## Two overlapping txns.
## Two writes to the same key should be rejected with "write intent error", "conflicting intents".

run error
with t=A
  begin_txn  ts=33
  mvcc_put   k=a v=xyz
with t=B
  begin_txn  ts=44
  mvcc_put   k=a v=zzz
----
txn: "B" meta={id=00000000 key=/Min pri=0.00000000 epo=0 ts=0.000000044,0 min=0.000000000,0 seq=1} rw=true stat=PENDING orig=0.000000044,0 max=0.000000000,0 rts=0.000000000,0 wto=false
meta: "k/a"/0.000000000,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=0.000000033,0 min=0.000000000,0 seq=1} ts=0.000000033,0 del=false klen=12 vlen=8
data: "k/a"/0.000000033,0 -> /BYTES/xyz
error: (*roachpb.WriteIntentError:) conflicting intents on "k/a"

## It's possible to observe the intent with an inconsistent read.

run ok
with t=B
  mvcc_get k=a inconsistent
----
get: "k/a" -> intent {id=00000000 key=/Min pri=0.00000000 epo=0 ts=0.000000033,0 min=0.000000000,0 seq=1} PENDING
get: "k/a" -> <no data>

run ok
abort_txn t=B
abort_txn t=A
----
txn: "A" meta={id=00000000 key=/Min pri=0.00000000 epo=0 ts=0.000000033,0 min=0.000000000,0 seq=1} rw=true stat=ABORTED orig=0.000000033,0 max=0.000000000,0 rts=0.000000000,0 wto=false int=1
<no data>
