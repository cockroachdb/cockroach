# Exercise each write operation with a local timestamp.

run stats ok
with ts=20
  put localTs=10 k=k1 v=v
  put localTs=20 k=k2 v=v
  put localTs=30 k=k3 v=v
----
>> put localTs=10 k=k1 v=v ts=20
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+22 live_count=+1 live_bytes=+37
>> put localTs=20 k=k2 v=v ts=20
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+6 live_count=+1 live_bytes=+21
>> put localTs=30 k=k3 v=v ts=20
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+6 live_count=+1 live_bytes=+21
>> at end:
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
data: "k2"/20.000000000,0 -> /BYTES/v
data: "k3"/20.000000000,0 -> /BYTES/v
stats: key_count=3 key_bytes=45 val_count=3 val_bytes=34 live_count=3 live_bytes=79

run stats ok
with ts=30
  cput localTs=40 k=k1 v=v cond=v
  cput localTs=30 k=k2 v=v cond=v
  cput localTs=20 k=k3 v=v cond=v
----
>> cput localTs=40 k=k1 v=v cond=v ts=30
stats: key_bytes=+12 val_count=+1 val_bytes=+6 live_bytes=-16 gc_bytes_age=+2380
>> cput localTs=30 k=k2 v=v cond=v ts=30
stats: key_bytes=+12 val_count=+1 val_bytes=+6 gc_bytes_age=+1260
>> cput localTs=20 k=k3 v=v cond=v ts=30
stats: key_bytes=+12 val_count=+1 val_bytes=+22 live_bytes=+16 gc_bytes_age=+1260
>> at end:
data: "k1"/30.000000000,0 -> /BYTES/v
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
data: "k2"/30.000000000,0 -> /BYTES/v
data: "k2"/20.000000000,0 -> /BYTES/v
data: "k3"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v
data: "k3"/20.000000000,0 -> /BYTES/v
stats: key_count=3 key_bytes=81 val_count=6 val_bytes=68 live_count=3 live_bytes=79 gc_bytes_age=4900

run stats ok
with ts=40
  del localTs=30 k=k1
  del localTs=40 k=k2
  del localTs=50 k=k3
----
>> del localTs=30 k=k1 ts=40
del: "k1": found key true
stats: key_bytes=+12 val_count=+1 val_bytes=+16 live_count=-1 live_bytes=-21 gc_bytes_age=+2940
>> del localTs=40 k=k2 ts=40
del: "k2": found key true
stats: key_bytes=+12 val_count=+1 live_count=-1 live_bytes=-21 gc_bytes_age=+1980
>> del localTs=50 k=k3 ts=40
del: "k3": found key true
stats: key_bytes=+12 val_count=+1 live_count=-1 live_bytes=-37 gc_bytes_age=+2940
>> at end:
data: "k1"/40.000000000,0 -> {localTs=30.000000000,0}/<empty>
data: "k1"/30.000000000,0 -> /BYTES/v
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
data: "k2"/40.000000000,0 -> /<empty>
data: "k2"/30.000000000,0 -> /BYTES/v
data: "k2"/20.000000000,0 -> /BYTES/v
data: "k3"/40.000000000,0 -> /<empty>
data: "k3"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v
data: "k3"/20.000000000,0 -> /BYTES/v
stats: key_count=3 key_bytes=117 val_count=9 val_bytes=84 gc_bytes_age=12760

run stats ok
with ts=50
  increment localTs=60 k=k1
  increment localTs=50 k=k2
  increment localTs=40 k=k3
----
>> increment localTs=60 k=k1 ts=50
inc: current value = 1
stats: key_bytes=+12 val_count=+1 val_bytes=+6 live_count=+1 live_bytes=+21 gc_bytes_age=-180
>> increment localTs=50 k=k2 ts=50
inc: current value = 1
stats: key_bytes=+12 val_count=+1 val_bytes=+6 live_count=+1 live_bytes=+21 gc_bytes_age=-180
>> increment localTs=40 k=k3 ts=50
inc: current value = 1
stats: key_bytes=+12 val_count=+1 val_bytes=+23 live_count=+1 live_bytes=+38 gc_bytes_age=-180
>> at end:
data: "k1"/50.000000000,0 -> /INT/1
data: "k1"/40.000000000,0 -> {localTs=30.000000000,0}/<empty>
data: "k1"/30.000000000,0 -> /BYTES/v
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
data: "k2"/50.000000000,0 -> /INT/1
data: "k2"/40.000000000,0 -> /<empty>
data: "k2"/30.000000000,0 -> /BYTES/v
data: "k2"/20.000000000,0 -> /BYTES/v
data: "k3"/50.000000000,0 -> {localTs=40.000000000,0}/INT/1
data: "k3"/40.000000000,0 -> /<empty>
data: "k3"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v
data: "k3"/20.000000000,0 -> /BYTES/v
stats: key_count=3 key_bytes=153 val_count=12 val_bytes=119 live_count=3 live_bytes=80 gc_bytes_age=12220

run stats ok
with ts=60
  del_range localTs=50 k=k1 end=k2
  del_range localTs=60 k=k2 end=k3
  del_range localTs=70 k=k3 end=k4
----
>> del_range localTs=50 k=k1 end=k2 ts=60
del_range: "k1"-"k2" -> deleted 1 key(s)
stats: key_bytes=+12 val_count=+1 val_bytes=+17 live_count=-1 live_bytes=-21 gc_bytes_age=+2000
>> del_range localTs=60 k=k2 end=k3 ts=60
del_range: "k2"-"k3" -> deleted 1 key(s)
stats: key_bytes=+12 val_count=+1 live_count=-1 live_bytes=-21 gc_bytes_age=+1320
>> del_range localTs=70 k=k3 end=k4 ts=60
del_range: "k3"-"k4" -> deleted 1 key(s)
stats: key_bytes=+12 val_count=+1 live_count=-1 live_bytes=-38 gc_bytes_age=+2000
>> at end:
data: "k1"/60.000000000,0 -> {localTs=50.000000000,0}/<empty>
data: "k1"/50.000000000,0 -> /INT/1
data: "k1"/40.000000000,0 -> {localTs=30.000000000,0}/<empty>
data: "k1"/30.000000000,0 -> /BYTES/v
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
data: "k2"/60.000000000,0 -> /<empty>
data: "k2"/50.000000000,0 -> /INT/1
data: "k2"/40.000000000,0 -> /<empty>
data: "k2"/30.000000000,0 -> /BYTES/v
data: "k2"/20.000000000,0 -> /BYTES/v
data: "k3"/60.000000000,0 -> /<empty>
data: "k3"/50.000000000,0 -> {localTs=40.000000000,0}/INT/1
data: "k3"/40.000000000,0 -> /<empty>
data: "k3"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v
data: "k3"/20.000000000,0 -> /BYTES/v
stats: key_count=3 key_bytes=189 val_count=15 val_bytes=136 gc_bytes_age=17540

run ok
with ts=19
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> <no data>
get: "k2" -> <no data>
get: "k3" -> <no data>

run ok
with ts=20
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /BYTES/v @20.000000000,0
get: "k2" -> /BYTES/v @20.000000000,0
get: "k3" -> /BYTES/v @20.000000000,0

run ok
with ts=29
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /BYTES/v @20.000000000,0
get: "k2" -> /BYTES/v @20.000000000,0
get: "k3" -> /BYTES/v @20.000000000,0

run ok
with ts=30
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /BYTES/v @30.000000000,0
get: "k2" -> /BYTES/v @30.000000000,0
get: "k3" -> /BYTES/v @30.000000000,0

run ok
with ts=39
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /BYTES/v @30.000000000,0
get: "k2" -> /BYTES/v @30.000000000,0
get: "k3" -> /BYTES/v @30.000000000,0

run ok
with ts=40
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> <no data>
get: "k2" -> <no data>
get: "k3" -> <no data>

run ok
with ts=49
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> <no data>
get: "k2" -> <no data>
get: "k3" -> <no data>

run ok
with ts=50
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /INT/1 @50.000000000,0
get: "k2" -> /INT/1 @50.000000000,0
get: "k3" -> /INT/1 @50.000000000,0

run ok
with ts=59
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> /INT/1 @50.000000000,0
get: "k2" -> /INT/1 @50.000000000,0
get: "k3" -> /INT/1 @50.000000000,0

run ok
with ts=60
  get k=k1
  get k=k2
  get k=k3
----
get: "k1" -> <no data>
get: "k2" -> <no data>
get: "k3" -> <no data>

run ok
clear_range k=k1 end=k4
----
>> at end:
<no data>


# Exercise intent resolution with and without prior observation timestamps.

run stats ok
with t=A ts=20 localTs=10
  txn_begin
  put k=k1  v=v
  put k=k2  v=v
  put k=k3  v=v
  put k=k4  v=v
  put k=k5  v=v
  put k=k6  v=v
  put k=k7  v=v
  put k=k8  v=v
  put k=k9  v=v
  put k=k10 v=v
  put k=k11 v=v
  put k=k12 v=v
----
>> put k=k1 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k2 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k3 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k4 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k5 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k6 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k7 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k8 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k9 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+15 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+85 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k10 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+16 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+86 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k11 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+16 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+86 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> put k=k12 v=v t=A ts=20 localTs=10
stats: key_count=+1 key_bytes=+16 val_count=+1 val_bytes=+70 live_count=+1 live_bytes=+86 intent_count=+1 intent_bytes=+34 separated_intent_count=+1 intent_age=+80
>> at end:
txn: "A" meta={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} lock=true stat=PENDING rts=20.000000000,0 wto=false gul=0,0
meta: "k1"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k1"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k10"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k10"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k11"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k11"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k12"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k12"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k2"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k2"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k3"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k3"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k4"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k4"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k5"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k5"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k6"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k6"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k7"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k7"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k8"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k8"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
meta: "k9"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=20.000000000,0 min=0,0 seq=0} ts=20.000000000,0 del=false klen=12 vlen=22 mergeTs=<nil> txnDidNotUpdateMeta=true
data: "k9"/20.000000000,0 -> {localTs=10.000000000,0}/BYTES/v
stats: key_count=12 key_bytes=183 val_count=12 val_bytes=840 live_count=12 live_bytes=1023 intent_count=12 intent_bytes=408 separated_intent_count=12 intent_age=960

run ok
with t=A
  txn_step
  txn_advance ts=30
----
>> at end:
txn: "A" meta={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} lock=true stat=PENDING rts=20.000000000,0 wto=false gul=0,0

run stats ok
with t=A localTs=20
  put k=k1  v=v2
  put k=k2  v=v2
  put k=k3  v=v2
  put k=k4  v=v2
  put k=k5  v=v2
  put k=k6  v=v2
  put k=k7  v=v2
  put k=k8  v=v2
  put k=k9  v=v2
  put k=k10 v=v2
  put k=k11 v=v2
  put k=k12 v=v2
----
>> put k=k1 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k2 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k3 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k4 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k5 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k6 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k7 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k8 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k9 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k10 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k11 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> put k=k12 v=v2 t=A localTs=20
stats: val_bytes=+29 live_bytes=+29 intent_bytes=+1 intent_age=-10
>> at end:
meta: "k1"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k1"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k10"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k10"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k11"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k11"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k12"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k12"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k2"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k2"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k3"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k3"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k4"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k4"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k5"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k5"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k6"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k6"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k7"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k7"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k8"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k8"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k9"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=30.000000000,0 min=0,0 seq=1} ts=30.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k9"/30.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
stats: key_count=12 key_bytes=183 val_count=12 val_bytes=1188 live_count=12 live_bytes=1371 intent_count=12 intent_bytes=420 separated_intent_count=12 intent_age=840

run stats ok
with t=A
  txn_advance ts=40
  resolve_intent k=k1  status=ABORTED
  resolve_intent k=k2  status=ABORTED clockWhilePending=20
  resolve_intent k=k3  status=ABORTED clockWhilePending=30
  resolve_intent k=k4  status=ABORTED clockWhilePending=40
  resolve_intent k=k5  status=PENDING
  resolve_intent k=k6  status=PENDING clockWhilePending=20
  resolve_intent k=k7  status=PENDING clockWhilePending=30
  resolve_intent k=k8  status=PENDING clockWhilePending=40
  resolve_intent k=k9  status=COMMITTED
  resolve_intent k=k10 status=COMMITTED clockWhilePending=20
  resolve_intent k=k11 status=COMMITTED clockWhilePending=30
  resolve_intent k=k12 status=COMMITTED clockWhilePending=40
----
>> resolve_intent k=k1 status=ABORTED t=A
stats: key_count=-1 key_bytes=-15 val_count=-1 val_bytes=-99 live_count=-1 live_bytes=-114 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k2 status=ABORTED clockWhilePending=20 t=A
stats: key_count=-1 key_bytes=-15 val_count=-1 val_bytes=-99 live_count=-1 live_bytes=-114 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k3 status=ABORTED clockWhilePending=30 t=A
stats: key_count=-1 key_bytes=-15 val_count=-1 val_bytes=-99 live_count=-1 live_bytes=-114 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k4 status=ABORTED clockWhilePending=40 t=A
stats: key_count=-1 key_bytes=-15 val_count=-1 val_bytes=-99 live_count=-1 live_bytes=-114 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k5 status=PENDING t=A
stats: val_bytes=+2 live_bytes=+2 intent_age=-10
>> resolve_intent k=k6 status=PENDING clockWhilePending=20 t=A
stats: val_bytes=+2 live_bytes=+2 intent_age=-10
>> resolve_intent k=k7 status=PENDING clockWhilePending=30 t=A
stats: val_bytes=+2 live_bytes=+2 intent_age=-10
>> resolve_intent k=k8 status=PENDING clockWhilePending=40 t=A
stats: val_bytes=-14 live_bytes=-14 intent_bytes=-16 intent_age=-10
>> resolve_intent k=k9 status=COMMITTED t=A
stats: val_bytes=-76 live_bytes=-76 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k10 status=COMMITTED clockWhilePending=20 t=A
stats: val_bytes=-76 live_bytes=-76 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k11 status=COMMITTED clockWhilePending=30 t=A
stats: val_bytes=-76 live_bytes=-76 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> resolve_intent k=k12 status=COMMITTED clockWhilePending=40 t=A
stats: val_bytes=-92 live_bytes=-92 intent_count=-1 intent_bytes=-35 separated_intent_count=-1 intent_age=-70
>> at end:
txn: "A" meta={id=00000000 key=/Min pri=0.00000000 epo=0 ts=40.000000000,0 min=0,0 seq=1} lock=true stat=PENDING rts=20.000000000,0 wto=false gul=0,0
data: "k10"/40.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
data: "k11"/40.000000000,0 -> {localTs=30.000000000,0}/BYTES/v2
data: "k12"/40.000000000,0 -> /BYTES/v2
meta: "k5"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=40.000000000,0 min=0,0 seq=1} ts=40.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k5"/40.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k6"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=40.000000000,0 min=0,0 seq=1} ts=40.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k6"/40.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
meta: "k7"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=40.000000000,0 min=0,0 seq=1} ts=40.000000000,0 del=false klen=12 vlen=23 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k7"/40.000000000,0 -> {localTs=30.000000000,0}/BYTES/v2
meta: "k8"/0,0 -> txn={id=00000000 key=/Min pri=0.00000000 epo=0 ts=40.000000000,0 min=0,0 seq=1} ts=40.000000000,0 del=false klen=12 vlen=7 ih={{0 {localTs=10.000000000,0}/BYTES/v}} mergeTs=<nil> txnDidNotUpdateMeta=false
data: "k8"/40.000000000,0 -> /BYTES/v2
data: "k9"/40.000000000,0 -> {localTs=20.000000000,0}/BYTES/v2
stats: key_count=8 key_bytes=123 val_count=8 val_bytes=464 live_count=8 live_bytes=587 intent_count=4 intent_bytes=124 separated_intent_count=4 intent_age=240
