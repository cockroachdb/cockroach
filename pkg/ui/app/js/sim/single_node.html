<!DOCTYPE html>
<meta charset="utf-8">

<head>
  <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>

<body>
  <script src="https://d3js.org/d3.v3.js"></script>
  <script src="model.js"></script>
  <script src="datacenter.js"></script>
  <script src="node.js"></script>
  <script src="range.js"></script>
  <script src="replica.js"></script>
  <script src="request.js"></script>
  <script src="app.js"></script>
  <script src="visualization.js"></script>
  <script src="boxes.js"></script>
  <script src="circles.js"></script>
  <div id="model0"></div>

  <script>

function initModel(model, exactRebalancing) {
  var numNodes = 3
  model.minAppXfer = 250
  model.appXfer = 500
  model.nodeRadius = 20
  model.nodeDistance = 150
  model.nodeCapacity = 5
  model.useSwitches = false
  model.skin = new Boxes()
  model.enablePlayAndReload = false
  model.enableAddNodeAndApp = true
  model.displaySimState = false

  var dc = new Datacenter(viewWidth * 0.25, viewHeight * 0.50, model)
  for (var i = 0; i < numNodes; i++) {
    addNodeToModel(model, dc)
    addAppToModel(model, dc)
  }

  addModel(model)
  model.simTime = 0
}

new Model("model0", viewWidth/2, viewHeight, function(m) { initModel(m, true) })

  </script>
</body>
