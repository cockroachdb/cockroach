exec
dev lint
----
bazel run //pkg/gen:code
bazel info workspace --color=no
bazel run //pkg/cmd/generate-cgo:generate-cgo '--run_under=cd crdb-checkout && '
which cc
export CC=
export CXX=
bazel run --config=test //build/bazelutil:lint -- -test.v
bazel build //pkg/cmd/cockroach-short //pkg/cmd/dev //pkg/obsservice/cmd/obsservice //pkg/cmd/roachprod //pkg/cmd/roachtest --//build/toolchains:nogo_flag

exec
dev lint --short --timeout=5m
----
bazel run --config=test //build/bazelutil:lint -- -test.v -test.short -test.timeout 5m0s

exec
dev lint pkg/cmd/dev
----
bazel run //pkg/gen:code
bazel info workspace --color=no
bazel run //pkg/cmd/generate-cgo:generate-cgo '--run_under=cd crdb-checkout && '
which cc
export CC=
export CXX=
export PKG=./pkg/cmd/dev
bazel run --config=test //build/bazelutil:lint -- -test.v
bazel build //pkg/cmd/cockroach-short //pkg/cmd/dev //pkg/obsservice/cmd/obsservice //pkg/cmd/roachprod //pkg/cmd/roachtest --//build/toolchains:nogo_flag

exec
dev lint -f TestLowercaseFunctionNames --cpus 4
----
bazel run //pkg/gen:code
bazel info workspace --color=no
bazel run //pkg/cmd/generate-cgo:generate-cgo '--run_under=cd crdb-checkout && '
which cc
export CC=
export CXX=
bazel run --config=test //build/bazelutil:lint --local_cpu_resources=4 -- -test.v -test.run Lint/TestLowercaseFunctionNames

exec
dev lint --cpus 4
----
bazel run //pkg/gen:code
bazel info workspace --color=no
bazel run //pkg/cmd/generate-cgo:generate-cgo '--run_under=cd crdb-checkout && '
which cc
export CC=
export CXX=
bazel run --config=test //build/bazelutil:lint --local_cpu_resources=4 -- -test.v
bazel build //pkg/cmd/cockroach-short //pkg/cmd/dev //pkg/obsservice/cmd/obsservice //pkg/cmd/roachprod //pkg/cmd/roachtest --//build/toolchains:nogo_flag --local_cpu_resources=4

exec
dev lint pkg/cmd/dev pkg/spanconfig
----
err: can only lint a single package (found pkg/cmd/dev, pkg/spanconfig)
