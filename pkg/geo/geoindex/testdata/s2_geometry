# TODO(sumeer): add more test cases

geometry name=point1
MULTIPOINT((12 12), (21 21))
----

geometry name=shortline1
LINESTRING (11 11,12 12)
----

geometry name=line-exceeds-bound
LINESTRING (12 15, 22 23)
----

geometry name=poly1
POLYGON((15 15,16 15.5,15.5 17,15 15))
----

geometry name=poly1-different-orientation
POLYGON((15 15,15.5 17,16 15.5,15 15))
----

init minlevel=0 maxlevel=30 maxcells=4 minx=10 miny=10 maxx=20 maxy=20
----

# The orientation difference between the polygons has no effect on the
# index keys.

index-keys name=poly1
----
F0/L30/022222222222222222222222222222, F0/L30/133333333333333333333333333333, F0/L2/20, F0/L30/311111111111111111111111111111

index-keys name=poly1-different-orientation
----
F0/L30/022222222222222222222222222222, F0/L30/133333333333333333333333333333, F0/L2/20, F0/L30/311111111111111111111111111111

# Point exceeds the defined bounds.

index-keys name=point1
----
F0/L30/002200220022002200220022002200, spilled

covers name=point1
----
F0/L30/002200220022002200220022002200, F0/L29/00220022002200220022002200220, 
F0/L28/0022002200220022002200220022, F0/L27/002200220022002200220022002, 
F0/L26/00220022002200220022002200, F0/L25/0022002200220022002200220, 
F0/L24/002200220022002200220022, F0/L23/00220022002200220022002, 
F0/L22/0022002200220022002200, F0/L21/002200220022002200220, 
F0/L20/00220022002200220022, F0/L19/0022002200220022002, F0/L18/002200220022002200, 
F0/L17/00220022002200220, F0/L16/0022002200220022, F0/L15/002200220022002, 
F0/L14/00220022002200, F0/L13/0022002200220, F0/L12/002200220022, 
F0/L11/00220022002, F0/L10/0022002200, F0/L9/002200220, F0/L8/00220022, 
F0/L7/0022002, F0/L6/002200, F0/L5/00220, F0/L4/0022, F0/L3/002, 
F0/L2/00, F0/L1/0, F0/L0/, spilled

intersects name=point1
----
F0/L30/002200220022002200220022002200, F0/L29/00220022002200220022002200220, 
F0/L28/0022002200220022002200220022, F0/L27/002200220022002200220022002, 
F0/L26/00220022002200220022002200, F0/L25/0022002200220022002200220, 
F0/L24/002200220022002200220022, F0/L23/00220022002200220022002, 
F0/L22/0022002200220022002200, F0/L21/002200220022002200220, 
F0/L20/00220022002200220022, F0/L19/0022002200220022002, F0/L18/002200220022002200, 
F0/L17/00220022002200220, F0/L16/0022002200220022, F0/L15/002200220022002, 
F0/L14/00220022002200, F0/L13/0022002200220, F0/L12/002200220022, 
F0/L11/00220022002, F0/L10/0022002200, F0/L9/002200220, F0/L8/00220022, 
F0/L7/0022002, F0/L6/002200, F0/L5/00220, F0/L4/0022, F0/L3/002, 
F0/L2/00, F0/L1/0, F0/L0/, spilled

inner-covering name=point1
----
F0/L30/002200220022002200220022002200

covered-by name=point1
----
0: spilled
1: F0/L30/002200220022002200220022002200, F0/L29/00220022002200220022002200220, 
F0/L28/0022002200220022002200220022, F0/L27/002200220022002200220022002, 
F0/L26/00220022002200220022002200, F0/L25/0022002200220022002200220, 
F0/L24/002200220022002200220022, F0/L23/00220022002200220022002, 
F0/L22/0022002200220022002200, F0/L21/002200220022002200220, 
F0/L20/00220022002200220022, F0/L19/0022002200220022002, F0/L18/002200220022002200, 
F0/L17/00220022002200220, F0/L16/0022002200220022, F0/L15/002200220022002, 
F0/L14/00220022002200, F0/L13/0022002200220, F0/L12/002200220022, 
F0/L11/00220022002, F0/L10/0022002200, F0/L9/002200220, F0/L8/00220022, 
F0/L7/0022002, F0/L6/002200, F0/L5/00220, F0/L4/0022, F0/L3/002, 
F0/L2/00, F0/L1/0, F0/L0/

index-keys name=shortline1
----
F0/L5/00022, F0/L3/002, F0/L30/003111111111111111111111111111

covers name=shortline1
----
[F0/L30/000220000000000000000000000000, F0/L30/000223333333333333333333333333], 
[F0/L30/002000000000000000000000000000, F0/L30/002333333333333333333333333333], 
F0/L30/003111111111111111111111111111, F0/L4/0002, F0/L3/000, 
F0/L2/00, F0/L1/0, F0/L0/, F0/L29/00311111111111111111111111111, 
F0/L28/0031111111111111111111111111, F0/L27/003111111111111111111111111, 
F0/L26/00311111111111111111111111, F0/L25/0031111111111111111111111, 
F0/L24/003111111111111111111111, F0/L23/00311111111111111111111, 
F0/L22/0031111111111111111111, F0/L21/003111111111111111111, 
F0/L20/00311111111111111111, F0/L19/0031111111111111111, F0/L18/003111111111111111, 
F0/L17/00311111111111111, F0/L16/0031111111111111, F0/L15/003111111111111, 
F0/L14/00311111111111, F0/L13/0031111111111, F0/L12/003111111111, 
F0/L11/00311111111, F0/L10/0031111111, F0/L9/003111111, F0/L8/00311111, 
F0/L7/0031111, F0/L6/003111, F0/L5/00311, F0/L4/0031, F0/L3/003

intersects name=shortline1
----
[F0/L30/000220000000000000000000000000, F0/L30/000223333333333333333333333333], 
[F0/L30/002000000000000000000000000000, F0/L30/002333333333333333333333333333], 
F0/L30/003111111111111111111111111111, F0/L4/0002, F0/L3/000, 
F0/L2/00, F0/L1/0, F0/L0/, F0/L29/00311111111111111111111111111, 
F0/L28/0031111111111111111111111111, F0/L27/003111111111111111111111111, 
F0/L26/00311111111111111111111111, F0/L25/0031111111111111111111111, 
F0/L24/003111111111111111111111, F0/L23/00311111111111111111111, 
F0/L22/0031111111111111111111, F0/L21/003111111111111111111, 
F0/L20/00311111111111111111, F0/L19/0031111111111111111, F0/L18/003111111111111111, 
F0/L17/00311111111111111, F0/L16/0031111111111111, F0/L15/003111111111111, 
F0/L14/00311111111111, F0/L13/0031111111111, F0/L12/003111111111, 
F0/L11/00311111111, F0/L10/0031111111, F0/L9/003111111, F0/L8/00311111, 
F0/L7/0031111, F0/L6/003111, F0/L5/00311, F0/L4/0031, F0/L3/003

inner-covering name=shortline1
----
F0/L30/000220022002200220022002200220, F0/L30/002200220022002200220022002200

covered-by name=shortline1
----
0: F0/L30/002200220022002200220022002200, F0/L29/00220022002200220022002200220, 
F0/L28/0022002200220022002200220022, F0/L27/002200220022002200220022002, 
F0/L26/00220022002200220022002200, F0/L25/0022002200220022002200220, 
F0/L24/002200220022002200220022, F0/L23/00220022002200220022002, 
F0/L22/0022002200220022002200, F0/L21/002200220022002200220, 
F0/L20/00220022002200220022, F0/L19/0022002200220022002, F0/L18/002200220022002200, 
F0/L17/00220022002200220, F0/L16/0022002200220022, F0/L15/002200220022002, 
F0/L14/00220022002200, F0/L13/0022002200220, F0/L12/002200220022, 
F0/L11/00220022002, F0/L10/0022002200, F0/L9/002200220, F0/L8/00220022, 
F0/L7/0022002, F0/L6/002200, F0/L5/00220, F0/L4/0022, F0/L3/002, 
F0/L2/00, F0/L1/0, F0/L0/
1: F0/L30/000220022002200220022002200220, F0/L29/00022002200220022002200220022, 
F0/L28/0002200220022002200220022002, F0/L27/000220022002200220022002200, 
F0/L26/00022002200220022002200220, F0/L25/0002200220022002200220022, 
F0/L24/000220022002200220022002, F0/L23/00022002200220022002200, 
F0/L22/0002200220022002200220, F0/L21/000220022002200220022, 
F0/L20/00022002200220022002, F0/L19/0002200220022002200, F0/L18/000220022002200220, 
F0/L17/00022002200220022, F0/L16/0002200220022002, F0/L15/000220022002200, 
F0/L14/00022002200220, F0/L13/0002200220022, F0/L12/000220022002, 
F0/L11/00022002200, F0/L10/0002200220, F0/L9/000220022, F0/L8/00022002, 
F0/L7/0002200, F0/L6/000220, F0/L5/00022, F0/L4/0002, F0/L3/000, 
F0/L2/00, F0/L1/0, F0/L0/

index-keys name=line-exceeds-bound
----
F0/L30/030033003300330033003300330033, F0/L1/1, F0/L2/21, F0/L4/2211, spilled

covers name=line-exceeds-bound
----
F0/L30/030033003300330033003300330033, [F0/L30/100000000000000000000000000000, F0/L30/133333333333333333333333333333], 
[F0/L30/210000000000000000000000000000, F0/L30/213333333333333333333333333333], 
[F0/L30/221100000000000000000000000000, F0/L30/221133333333333333333333333333], 
F0/L29/03003300330033003300330033003, F0/L28/0300330033003300330033003300, 
F0/L27/030033003300330033003300330, F0/L26/03003300330033003300330033, 
F0/L25/0300330033003300330033003, F0/L24/030033003300330033003300, 
F0/L23/03003300330033003300330, F0/L22/0300330033003300330033, 
F0/L21/030033003300330033003, F0/L20/03003300330033003300, F0/L19/0300330033003300330, 
F0/L18/030033003300330033, F0/L17/03003300330033003, F0/L16/0300330033003300, 
F0/L15/030033003300330, F0/L14/03003300330033, F0/L13/0300330033003, 
F0/L12/030033003300, F0/L11/03003300330, F0/L10/0300330033, F0/L9/030033003, 
F0/L8/03003300, F0/L7/0300330, F0/L6/030033, F0/L5/03003, F0/L4/0300, 
F0/L3/030, F0/L2/03, F0/L1/0, F0/L0/, F0/L1/2, F0/L3/221, F0/L2/22, 
spilled

intersects name=line-exceeds-bound
----
F0/L30/030033003300330033003300330033, [F0/L30/100000000000000000000000000000, F0/L30/133333333333333333333333333333], 
[F0/L30/210000000000000000000000000000, F0/L30/213333333333333333333333333333], 
[F0/L30/221100000000000000000000000000, F0/L30/221133333333333333333333333333], 
F0/L29/03003300330033003300330033003, F0/L28/0300330033003300330033003300, 
F0/L27/030033003300330033003300330, F0/L26/03003300330033003300330033, 
F0/L25/0300330033003300330033003, F0/L24/030033003300330033003300, 
F0/L23/03003300330033003300330, F0/L22/0300330033003300330033, 
F0/L21/030033003300330033003, F0/L20/03003300330033003300, F0/L19/0300330033003300330, 
F0/L18/030033003300330033, F0/L17/03003300330033003, F0/L16/0300330033003300, 
F0/L15/030033003300330, F0/L14/03003300330033, F0/L13/0300330033003, 
F0/L12/030033003300, F0/L11/03003300330, F0/L10/0300330033, F0/L9/030033003, 
F0/L8/03003300, F0/L7/0300330, F0/L6/030033, F0/L5/03003, F0/L4/0300, 
F0/L3/030, F0/L2/03, F0/L1/0, F0/L0/, F0/L1/2, F0/L3/221, F0/L2/22, 
spilled

inner-covering name=line-exceeds-bound
----
F0/L30/101100110011001100110011001100, F0/L30/221122301000333301033322223010

covered-by name=line-exceeds-bound
----
0: spilled
1: F0/L30/221122301000333301033322223010, F0/L29/22112230100033330103332222301, 
F0/L28/2211223010003333010333222230, F0/L27/221122301000333301033322223, 
F0/L26/22112230100033330103332222, F0/L25/2211223010003333010333222, 
F0/L24/221122301000333301033322, F0/L23/22112230100033330103332, 
F0/L22/2211223010003333010333, F0/L21/221122301000333301033, 
F0/L20/22112230100033330103, F0/L19/2211223010003333010, F0/L18/221122301000333301, 
F0/L17/22112230100033330, F0/L16/2211223010003333, F0/L15/221122301000333, 
F0/L14/22112230100033, F0/L13/2211223010003, F0/L12/221122301000, 
F0/L11/22112230100, F0/L10/2211223010, F0/L9/221122301, F0/L8/22112230, 
F0/L7/2211223, F0/L6/221122, F0/L5/22112, F0/L4/2211, F0/L3/221, 
F0/L2/22, F0/L1/2, F0/L0/
2: F0/L30/101100110011001100110011001100, F0/L29/10110011001100110011001100110, 
F0/L28/1011001100110011001100110011, F0/L27/101100110011001100110011001, 
F0/L26/10110011001100110011001100, F0/L25/1011001100110011001100110, 
F0/L24/101100110011001100110011, F0/L23/10110011001100110011001, 
F0/L22/1011001100110011001100, F0/L21/101100110011001100110, 
F0/L20/10110011001100110011, F0/L19/1011001100110011001, F0/L18/101100110011001100, 
F0/L17/10110011001100110, F0/L16/1011001100110011, F0/L15/101100110011001, 
F0/L14/10110011001100, F0/L13/1011001100110, F0/L12/101100110011, 
F0/L11/10110011001, F0/L10/1011001100, F0/L9/101100110, F0/L8/10110011, 
F0/L7/1011001, F0/L6/101100, F0/L5/10110, F0/L4/1011, F0/L3/101, 
F0/L2/10, F0/L1/1, F0/L0/

init minlevel=0 maxlevel=4 maxcells=1 minx=10 miny=10 maxx=20 maxy=20
----

inner-covering name=point1
----
F0/L4/0022

inner-covering name=shortline1
----
F0/L4/0002, F0/L4/0022

inner-covering name=line-exceeds-bound
----
F0/L4/1011, F0/L4/2211

init minlevel=0 maxlevel=2 maxcells=1 minx=10 miny=10 maxx=20 maxy=20
----

inner-covering name=point1
----
F0/L2/00

inner-covering name=shortline1
----
F0/L2/00

inner-covering name=line-exceeds-bound
----
F0/L2/10, F0/L2/22

init minlevel=0 maxlevel=4 maxcells=2 minx=10 miny=10 maxx=20 maxy=20
----

index-keys name=point1
----
F0/L4/0022, spilled

covers name=point1
----
[F0/L30/002200000000000000000000000000, F0/L30/002233333333333333333333333333], 
F0/L3/002, F0/L2/00, F0/L1/0, F0/L0/, spilled

d-within distance=1 name=point1
----
[F0/L30/000000000000000000000000000000, F0/L30/033333333333333333333333333333], 
F0/L0/, spilled

d-within distance=2 name=point1
----
[F0/L30/000000000000000000000000000000, F0/L30/033333333333333333333333333333], 
[F0/L30/222000000000000000000000000000, F0/L30/222333333333333333333333333333], 
F0/L0/, F0/L2/22, F0/L1/2, spilled

# Since s2GeometryIndex.{Covers,Intersects} currently have the same implementation,
# the output of d-fully-within is the same as dwithin.

d-fully-within distance=1 name=point1
----
[F0/L30/000000000000000000000000000000, F0/L30/033333333333333333333333333333], 
F0/L0/, spilled

d-fully-within distance=2 name=point1
----
[F0/L30/000000000000000000000000000000, F0/L30/033333333333333333333333333333], 
[F0/L30/222000000000000000000000000000, F0/L30/222333333333333333333333333333], 
F0/L0/, F0/L2/22, F0/L1/2, spilled
