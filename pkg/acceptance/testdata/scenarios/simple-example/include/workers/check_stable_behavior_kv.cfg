attention blue period is considered ramp-up, used to calibrate expectations

audience
  ref audits only while mood == 'blue'
  ref collects tp_ref_values as top 5 [w1 throughput]
  ref computes tp_ref as avg(tp_ref_values)
  ref watches tp_ref
  ref collects lat99_ref_values as bottom 5 [w1 lat99]
  ref computes lat99_ref as avg(lat99_ref_values)
  ref watches lat99_ref
  # we want to see at least one measurement. No measurements
  # indicates either the workload did not start properly, or
  # the signal regexp is not working.
  ref expects eventually: count(tp_ref_values) > 0 && count(lat99_ref_values) > 0
  ref only helps

  throughput_ok audits only while mood != 'blue'
  throughput_ok expects always: [w1 throughput] >= (tp_ref / 2)
  throughput_ok watches w1 throughput
  throughput_ok watches tp_ref
  throughput_ok measures client ops/s

  latency_ok   audits only while mood != 'blue'
  latency_ok   expects always: [w1 lat99] <= (3 * lat99_ref)
  latency_ok   watches w1 lat99
  latency_ok   watches lat99_ref
  latency_ok   measures client latency (ms)
end
