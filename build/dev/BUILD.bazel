# Development target for running CockroachDB single-node server with ibazel
# Usage: ibazel run //build/dev:cockroach-single-node
# Note: Uses cockroach-short (no UI bundle) for faster builds
sh_binary(
    name = "cockroach-single-node",
    srcs = ["cockroach-single-node.sh"],
    args = [
        "$(location //pkg/cmd/cockroach-short:cockroach-short)",
    ],
    data = [
        "//pkg/cmd/cockroach-short",
    ],
    visibility = ["//visibility:public"],
)

# Development target for running standalone DB Console server with ibazel hot reload
# Usage:
#   1. Start CRDB: ./cockroach start-single-node --insecure
#   2. In another terminal: ibazel run //build/dev:cockroach-db-console
# This provides hot reload for UI development while keeping CRDB node running
# Uses minimal standalone binary (1,565 packages vs 5,570) for 72% faster builds!
sh_binary(
    name = "cockroach-db-console",
    srcs = ["cockroach-db-console.sh"],
    args = [
        "$(location //pkg/cmd/cockroach-db-console-standalone:cockroach-db-console-standalone)",
    ],
    data = [
        "//pkg/cmd/cockroach-db-console-standalone",
    ],
    visibility = ["//visibility:public"],
)
