statement ok
CREATE TABLE test (
  t CHAR(4),
  UNIQUE INDEX a (t)
)

statement ok
INSERT INTO test VALUES ('a')

statement ok
INSERT INTO test VALUES ('ab')

statement ok
INSERT INTO test VALUES ('abcd')

statement error value too long for type STRING\(4\) \(column "t"\)
INSERT INTO test VALUES ('abcdef')

statement ok
UPDATE test SET t = 'b' WHERE t = 'abcde'

statement error value too long
UPDATE test SET t = 'cdefg' WHERE t = 'ab'

statement ok
CREATE TABLE td (
   d DECIMAL(3, 2),
   UNIQUE INDEX b (d)
)

statement ok
INSERT INTO td VALUES (3.1::DECIMAL)

statement ok
INSERT INTO td VALUES (3.14::DECIMAL)

statement error duplicate
INSERT INTO td VALUES (3.1415::DECIMAL)

statement error too many digits for type DECIMAL\(3, 2\) \(column "d"\)
INSERT INTO td VALUES (103.1415::DECIMAL)

query R
SELECT d::FLOAT FROM td
----
3.1
3.14

statement error too many digits
UPDATE td SET d = 101.414::DECIMAL WHERE d = 3.14::DECIMAL

statement ok
UPDATE td SET d = 1.414::DECIMAL WHERE d = 3.14::DECIMAL

statement error duplicate
UPDATE td SET d = 1.41::DECIMAL WHERE d = 3.1::DECIMAL

query R
SELECT d::FLOAT FROM td
----
3.1
1.41

statement ok
CREATE TABLE td2 (x DECIMAL(0,2), y DECIMAL(0), z DECIMAL)

statement ok
INSERT INTO td2 VALUES (123.1415::DECIMAL, 123.1415::DECIMAL, 123.1415::DECIMAL)

query RRR
select x::FLOAT, y::FLOAT, z::FLOAT FROM td2
----
123.1415 123.1415 123.1415
